(window.webpackJsonp=window.webpackJsonp||[]).push([[11,14],{"7azw":function(t,e,i){"use strict";i.r(e),i.d(e,"ApprovalsModule",function(){return Yt});var a=i("mrSG"),n=i("ebz3"),s=i("fXoL"),o=i("ofXK"),l=i("1kSV"),r=i("tk/3"),p=i("AytR");const c=p.a.apiUrl+"approval-types",d={headers:new r.f({"Content-Type":"application/json"})};let m=class{constructor(t){this.http=t}getAll(t){return t=t||{},this.http.get(c+"?filter="+JSON.stringify(t),d)}get(t){return this.http.get(`${c}/${t}`)}create(t){return this.http.post(c,t,d)}update(t,e){return this.http.patch(`${c}/${t}`,e,d)}delete(t){return this.http.delete(`${c}/${t}`,d)}deleteAll(){return this.http.delete(c,d)}findByType(t){return this.http.get(`${c}?approvalTypeTitle=${t}`,d)}};m.ctorParameters=()=>[{type:r.b}],m=Object(a.c)([Object(s.Injectable)({providedIn:"root"})],m);var h=i("/Uzn"),u=i("d+0u"),v=i("3Pt+"),f=i("tyNb"),g=i("5eHb"),b=i("SxV6");let x=class{constructor(t,e,i,a,n,s){this.formBuilder=t,this.route=e,this.router=i,this.dataService=a,this.toastr=n,this.constants=s,this.pk="approvalTypeID",this.object="Approval Type",this.parentUrl="/approvals/types",this.editUrl="/approvals/edit-type/",this.loading=!1,this.errorMessage="",this.submitted=!1,this.rows=[],this.filter={term:null}}loadRecords(){this.dataService.getAll().subscribe(t=>{this.rows=t},t=>{this.errorMessage=h.a.handleError(t,u.a.Messages.RECORDS_NOT_FOUND),this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION)})}initForm(){this.form=this.formBuilder.group({approvalTypeName:["",v.j.required],enabled:["Y",v.j.required],position:[0]})}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.title=(this.isAddMode?"Add":"Edit")+" "+this.object,this.initForm(),this.route.params.subscribe(t=>{this.id=t.id,this.isAddMode||this.dataService.get(this.id).pipe(Object(b.a)()).subscribe(t=>{this.form.patchValue(t),this.toastr.success(u.a.Messages.RECORD_LOADED,u.a.Title.RECORD_OPERATION)},t=>{this.errorMessage=t.message?t.message:u.a.Messages.RECORDS_NOT_FOUND,this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION),this.router.navigate([this.parentUrl])})}),this.loadRecords()}onSubmit(){this.submitted=!0,this.form.invalid?this.toastr.error(u.a.Messages.FORM_ERROR_FOUND,u.a.Title.FORM_VALIDATION):(this.loading=!0,this.isAddMode?this.createRecord():this.updateRecord())}createRecord(){this.dataService.create(this.form.value).pipe(Object(b.a)()).subscribe(()=>{this.toastr.success(u.a.Messages.SAVE_SUCCESS,u.a.Title.RECORD_OPERATION),this.initForm(),this.loadRecords(),this.approvalTypeName.clear(),this.approvalTypeName.focus()},t=>{this.errorMessage=t.message?t.message:u.a.Messages.SAVE_FAILURE,this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION)}).add(()=>{this.loading=!1,this.submitted=!1})}updateRecord(){this.dataService.update(this.id,this.form.value).pipe(Object(b.a)()).subscribe(()=>{this.toastr.success(u.a.Messages.UPDATE_SUCCESS,u.a.Title.RECORD_OPERATION),this.router.navigate([this.parentUrl])},t=>{this.errorMessage=t.message?t.message:u.a.Messages.UPDATE_FAILURE,this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION)}).add(()=>{this.loading=!1,this.submitted=!1})}deleteRow(t){return Object(a.b)(this,void 0,void 0,function*(){let e=yield h.a.alertDelete(u.a.Title.RECORD_OPERATION,u.a.Messages.CONFIRM_DELETE);(null==e?void 0:e.value)&&(Object.assign(t,{isDeleting:!0}),this.dataService.delete(t[this.pk]).subscribe(e=>{Object.assign(t,{isDeleting:!1}),this.rows=this.rows.filter(e=>e[this.pk]!==t[this.pk]),this.toastr.success(u.a.Messages.DELETE_SUCCESS,u.a.Title.RECORD_OPERATION)},e=>{Object.assign(t,{isDeleting:!1}),this.errorMessage=h.a.handleError(e,u.a.Messages.DELETE_FAILURE),this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION)}))})}get f(){return this.form.controls}};x.ctorParameters=()=>[{type:v.b},{type:f.a},{type:f.f},{type:m},{type:g.b},{type:u.a}],x.propDecorators={approvalTypeName:[{type:s.ViewChild,args:["approvalTypeName"]}]},x=Object(a.c)([Object(s.Component)({selector:"app-approval-types",template:'<div class="row">\n  \t<div class="col-xl-12 col-md-12">\n\t\t<app-card [hidHeader]="true" cardClass="tab-card">\n\t      <form [formGroup]="form" (ngSubmit)="onSubmit()">\n\t        <div class="form-row">\n\t          <div class="form-group col-md-9 col-sm-12">\n\t            <input type="text" formControlName="approvalTypeName" class="form-control" #approvalTypeName\n\t                [ngClass]="{ \'is-invalid\': submitted && f.approvalTypeName.errors }" placeholder="Enter new approval type to save"/>\n\t            <div *ngIf="submitted && f.approvalTypeName.errors" class="invalid-feedback">\n\t              <div *ngIf="f.approvalTypeName.errors.required">Approval type is required</div>\n\t            </div>\n\t          </div>\n\t          <div class="form-group col-md-3 col-sm-12 text-right">\n\t            <div class="text-right">\n\t              <a routerLink="{{parentUrl}}" class="btn btn-danger">Cancel</a>\n\t              &nbsp;\n\t              <button [disabled]="loading" class="btn btn-primary">\n\t                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>\n\t                {{isAddMode? \'Add\' : \'Save\'}} Type\n\t              </button>\n\t            </div>\n\t          </div>\n\t        </div>\n\t      </form>\n\t\t\t<div class="table-responsive">\n\t\t        <table class="table table-sm">\n\t\t          <thead>\n\t\t\t          <tr>\n\t\t\t            <th>#</th>\n\t\t\t            <th>Approval Type</th>\n\t\t\t            <th class="text-center">Active</th>\n\t\t\t            <th class="text-right">Actions</th>\n\t\t\t          </tr>\n\t\t          </thead>\n\t\t          <tbody>          \t\n\t\t\t\t\t  <tr *ngIf="!rows || rows.length==0">\n\t\t\t\t\t\t<td class="text-center" colspan="100%">\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\terrorMessage? errorMessage :\n\t\t\t\t\t\t\t\t(\'Search could not find any \'+ title.toLowerCase() + \' records\')\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t  </tr>\n\t\t\t          <tr template #elseBlock *ngFor="let row of rows | RandomSearch:filter.term | OrderBy:[\'approvalTypeName\'];let i=index;">\n\t\t\t            <td>{{ (i+1) }}</td>\n\t\t\t            <td>{{ row.approvalTypeName }}</td>\n\t\t\t            <td class="text-center">{{ row.enabled }}</td>\t\t            \n\t\t\t           \t<td class="text-right">\n\t\t\t\t\t\t\t<a title="Edit {{object}}" class="text-primary" routerLink="/{{editUrl + row[pk]}}">\n\t\t\t\t\t\t\t\t<i class="feather icon-edit"></i> Edit\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t<a class="text-danger" [disabled]="row?.isDeleting" type="button" \n\t\t\t\t\t\t\t\ttitle="Delete {{object}}" (click)="deleteRow(row)">\n\t\t\t\t\t\t\t\t<span *ngIf="row?.isDeleting" class="spinner-border spinner-border-sm"></span>\n\t\t\t\t\t\t\t\t<span *ngIf="!row?.isDeleting"><i class="feather icon-trash"></i></span>\n\t\t\t\t\t\t\t\tArchive\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</td>\n\t\t\t          </tr>\n\t\t          </tbody>\n\t\t        </table>\n\t       </div>\n    \t</app-card>\n  \t</div>\n </div>',styles:[""]})],x);var y=i("FQmJ"),w=i("feko"),C=i("XhZV"),O=i("9+1D"),E=i("evKo");const I=p.a.apiUrl+"approvals",D={headers:new r.f({"Content-Type":"application/json"})};let k=class{constructor(t){this.http=t}getAll(t){return t=t||{},this.http.get(I+"?filter="+JSON.stringify(t),D)}get(t){return this.http.get(`${I}/${t}`)}create(t){return this.http.post(I,t,D)}update(t,e){return this.http.patch(`${I}/${t}`,e,D)}submitComment(t,e,i){return this.http.patch(`${I}/submit-comment/${t}`,{approverID:e,commentText:i},D)}reject(t,e){return this.http.patch(`${I}/approval/${t}`,{approverID:e,approvalStatus:"rejected"},D)}approve(t,e){return this.http.patch(`${I}/approval/${t}`,{approverID:e,approvalStatus:"approved"},D)}delete(t){return this.http.delete(`${I}/${t}`,D)}deleteAll(){return this.http.delete(I,D)}findByName(t){return this.http.get(`${I}?approvalName=${t}`,D)}};k.ctorParameters=()=>[{type:r.b}],k=Object(a.c)([Object(s.Injectable)({providedIn:"root"})],k);var S=i("VITL"),M=i("LvDl"),R=i.n(M);let T=class extends C.a{constructor(t,e,i,a,n,s,o,l,r,p,c,d,m){super(e,n,m,d,p,c,r),this.formBuilder=t,this.route=e,this.router=i,this.dataService=a,this.uploadService=n,this.userService=s,this.approvalTypeService=o,this.orderBy=l,this.toastr=r,this.constants=p,this.functions=c,this.tokenService=d,this.companyService=m,this.pk="approvalID",this.title="",this.objects="Approvals",this.object="Approval",this.loading=!1,this.errorMessage="",this.submitted=!1,this.approvalTypes=[],this.autocompleteArray=[],this.autocompleteField="name",this.autocompleteModel=null,this.data={},this.documents=[],this.companies=[],this.parentUrl="/approvals/list"}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.title=(this.isAddMode?"Create":"Edit")+" "+this.object;let t=new Date(Date.now());this.form=this.formBuilder.group({approvalTypeID:["",v.j.required],companyID:[this.tokenService.getSelectedCompany().companyID||""],approvalName:["",v.j.required],referenceNumber:[""],approvalAmount:[0],description:[""],dueDate:[null,v.j.required],submittedOn:[t,v.j.required],approvers:this.formBuilder.array([]),documents:this.formBuilder.array([]),comments:this.formBuilder.array([]),sendSms:["N"],sendEmail:["Y"],approvalStatus:["pending"]}),this.uploadService.selectedFiles=[],this.uploadService.getAll({where:{"extraData.approvalID":this.id||null}}).subscribe(t=>{this.documents=t},t=>{this.documents=[]}),this.approvalTypeService.getAll().subscribe(t=>{this.approvalTypes=t}),this.userService.getAll().subscribe(t=>{for(let e of t){let t=e.fullName+" - "+e.phoneNo;this.autocompleteArray.push(Object.assign(e,{id:e.id,name:t}))}}),this.isAddMode||this.dataService.get(this.id).pipe(Object(b.a)()).subscribe(e=>{this.data=e,this.form.patchValue(e),this.form.patchValue({dueDate:e.dueDate?new Date(e.dueDate):null}),this.form.patchValue({submittedOn:e.submittedOn?new Date(e.submittedOn):t}),this.populateMany(),this.toastr.success(u.a.Messages.RECORD_LOADED,u.a.Title.RECORD_OPERATION)},t=>{this.errorMessage=t.message?t.message:u.a.Messages.RECORDS_NOT_FOUND,this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION),this.router.navigate([this.parentUrl],{relativeTo:this.route})}),this.companyService.getUserCompanies().subscribe(t=>{this.companies=t})}onSubmit(t){return Object(a.b)(this,void 0,void 0,function*(){if(this.submitted=!0,this.form.invalid)return void this.toastr.error(u.a.Messages.FORM_ERROR_FOUND,u.a.Title.FORM_VALIDATION);let e=t?"submitted":"pending",i=Object.assign(this.form.value,{approvalStatus:e}),a=yield h.a.alertDelete(u.a.Title.RECORD_OPERATION,u.a.Messages.CONFIRM_SUBMIT);(null==a?void 0:a.value)&&(this.loading=!0,this.isAddMode?this.createRecord(this.form.value):this.updateRecord(i))})}createRecord(t){this.dataService.create(t).pipe(Object(b.a)()).subscribe(t=>{this.toastr.success(u.a.Messages.SAVE_SUCCESS,u.a.Title.RECORD_OPERATION),this.uploadFilesAndFolders(t.approvalID,t)},t=>{this.errorMessage=h.a.handleError(t,u.a.Messages.SAVE_FAILURE),this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION)}).add(()=>{this.loading=!1})}updateRecord(t){this.dataService.update(this.id,t).pipe(Object(b.a)()).subscribe(()=>{this.toastr.success(u.a.Messages.UPDATE_SUCCESS,u.a.Title.RECORD_OPERATION),this.uploadFilesAndFolders(this.id,t)},t=>{this.errorMessage=t.message?t.message:u.a.Messages.UPDATE_FAILURE,this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION)}).add(()=>{this.loading=!1})}uploadFilesAndFolders(t,e){let i=this.approvalTypes.filter(t=>t.approvalTypeID==e.approvalTypeID),a=i.length>0?i[0].approvalTypeName:null,n={moduleCode:this.constants.moduleCodes.app.name,year:(new Date).getFullYear(),resourceName:e.approvalName,companyID:this.form.get("companyID").value};this.uploadService.getYearDirectory(n.moduleCode,n.year,n.resourceName,n.companyID,a).subscribe(e=>{this.uploadFiles(e.companyID,e.moduleCode,e.resourceID,{approvalID:t}),this.router.navigate([this.parentUrl])})}onUserChange(t){let e=this.data.approvers||[],i={id:t.id,fullName:t.fullName,phoneNo:t.phoneNo,email:t.email,approvalStatus:t.approvalStatus||"pending"};0==e.filter(t=>t.id===i.id).length&&e.push(i),this.data.approvers=R.a.uniqBy(e,"id"),this.populateMany(),this.autocomplete.clear(),this.autocomplete.focus()}populateMany(){let t=this.form.get("approvers").length,e=this.data.approvers.length,i=e>t?e-t:0,a=t>e?t-e:0;for(let s=0;s<i;s++)this.addRow();for(let s=0;s<a;s++)this.deleteRow(s);let n=this.orderBy.transform(this.data.approvers,["fullName"]);this.form.patchValue({approvers:n})}get f(){return this.form.controls}addRow(){this.form.get("approvers").push(this.formBuilder.group({id:[""],fullName:["",v.j.required],phoneNo:[""],email:[""],approvalStatus:["pending"],isEditable:[!0]}))}deleteRow(t){this.form.get("approvers").removeAt(t)}get c(){return this.form.get("approvers")}};T.ctorParameters=()=>[{type:v.b},{type:f.a},{type:f.f},{type:k},{type:O.a},{type:S.a},{type:m},{type:E.a},{type:g.b},{type:u.a},{type:h.a},{type:y.a},{type:w.a}],T.propDecorators={autocomplete:[{type:s.ViewChild,args:["autocomplete"]}]},T=Object(a.c)([Object(s.Component)({selector:"app-approval-create",template:'<app-basic-crumb [title]="title" [objects]="objects" [url]="parentUrl"></app-basic-crumb>\n<div class="row">\n\t<div class="col-sm-12">\n\t    <app-card hidHeader="true" blockClass="table-border-style">\n\t\t\t<form [formGroup]="form" (ngSubmit)="onSubmit()">\t\t\t\t\n\t\t\t    <div class="pb-4">\n\t\t\t        <strong>Enter approval details below</strong>\n\t\t\t    </div>\n\t\t\t    <div class="form-row">\t\n\t\t\t    \t<div class="form-group col-md-6 col-sm-12">\n\t\t\t            <label>Owner Company*</label>\n\t\t\t            <select class="form-control" formControlName="companyID" \n\t\t\t            \t[ngClass]="{ \'is-invalid\': submitted && f.companyID.errors }">\n\t\t\t\t\t  \t\t<option value="">No Company Selected</option>\n\t\t\t\t\t        <option *ngFor="let c of companies | OrderBy:\'fullName\'" value="{{c.companyID}}">\n\t\t\t\t\t        \t{{c.fullName}}\n\t\t\t\t\t        </option>\n\t\t\t\t\t    </select>\n\t\t\t            <div *ngIf="submitted && f.companyID.errors" class="invalid-feedback">\n\t\t\t                <div *ngIf="f.companyID.errors.required">Owner company is required</div>\n\t\t\t            </div>\n\t\t\t        </div>\t \t\t        \n\t\t\t        <div class="form-group col-md-6 col-sm-12">\n\t\t\t            <label>Choose Approval Type*</label>\n\t\t\t            <select formControlName="approvalTypeID" class="form-control" [ngClass]="{ \'is-invalid\': submitted && f.approvalTypeID.errors }">\n\t\t\t                <option value="{{a.approvalTypeID}}" *ngFor="let a of approvalTypes">{{a.approvalTypeName}}</option>\n\t\t\t            </select>\n\t\t\t            <div *ngIf="submitted && f.approvalTypeID.errors" class="invalid-feedback">\n\t\t\t                <div *ngIf="f.approvalTypeID.errors.required">Approval type is required</div>\n\t\t\t            </div>\n\t\t\t        </div>\n\t\t\t        <div class="form-group col-sm-9">\n\t\t\t            <label>Enter Approval Name*</label>\n\t\t\t            <input type="text" formControlName="approvalName"  placeholder="Enter approval name"\n\t\t\t            \tclass="form-control" [ngClass]="{ \'is-invalid\': submitted && f.approvalName.errors }"/>\n\t\t\t            <div *ngIf="submitted && f.approvalName.errors" class="invalid-feedback">\n\t\t\t                <div *ngIf="f.approvalName.errors.required">Approval name is required</div>\n\t\t\t            </div>\n\t\t\t        </div>\t\t\t        \n\t\t\t        <div class="form-group col-md-3">\n\t\t\t            <label for="dueDate">Due Date:</label>\n\t\t\t            <input type="text" class="form-control" formControlName="dueDate" placeholder="dd-mmm-yyyy"\n\t\t\t            \t[ngClass]="{ \'is-invalid\': submitted && f.dueDate.errors }"\n\t\t\t            \t#datepickerYMD="bsDatepicker" bsDatepicker placement="top" [bsConfig]="{ dateInputFormat: \'DD-MMM-YYYY\' }">\n\t\t\t            <div *ngIf="submitted && f.dueDate.errors" class="invalid-feedback">\n\t\t\t\t\t        <div *ngIf="f.dueDate.errors.required">Due date is required</div>\n\t\t\t\t\t    </div>\n\t\t\t        </div>\t\n\t\t\t\t</div>\n\t\t\t\t<div class="pb-4 pt-4">\n\t\t\t        <strong>Enter extra information below</strong>\n\t\t\t\t</div>\n\t\t\t    <div class="form-row">\t\t\n\t\t\t        <div class="form-group col-sm-8">\n\t\t\t            <label>Enter Reference No. e.g. Voucher No </label>\n\t\t\t            <input type="text" formControlName="referenceNumber"  placeholder="Enter approval reference number"\n\t\t\t            \tclass="form-control" [ngClass]="{ \'is-invalid\': submitted && f.referenceNumber.errors }"/>\n\t\t\t            <div *ngIf="submitted && f.referenceNumber.errors" class="invalid-feedback">\n\t\t\t                <div *ngIf="f.referenceNumber.errors.required">Reference number is required</div>\n\t\t\t            </div>\n\t\t\t        </div>\t\t\t        \n\t\t\t        <div class="form-group col-sm-4">\n\t\t\t            <label>Approval Amount (Optional)</label>\n\t\t\t            <input type="number" formControlName="approvalAmount"  placeholder="Enter approval amount"\n\t\t\t            \tclass="form-control" [ngClass]="{ \'is-invalid\': submitted && f.approvalAmount.errors }"/>\n\t\t\t            <div *ngIf="submitted && f.approvalAmount.errors" class="invalid-feedback">\n\t\t\t                <div *ngIf="f.approvalAmount.errors.required">Approval amount is required</div>\n\t\t\t            </div>\n\t\t\t        </div>\n\t\t\t        <div class="form-group col-md-12">\n\t\t\t          <label for="description">Additional Details:</label>\n\t\t\t          <textarea rows="2" class="form-control" formControlName="description"\n\t\t\t          \t [ngClass]="{ \'is-invalid\': submitted && f.description.errors }">\n\t\t\t          </textarea>\n\t\t\t          <div *ngIf="submitted && f.description.errors" class="invalid-feedback">\n\t\t\t\t        <div *ngIf="f.description.errors.required">Description is required</div>\n\t\t\t\t      </div>\n\t\t\t      \t</div> \n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\x3c!-- BEGIN: FILE UPLOADER --\x3e\n\t\t\t\t<div class="pb-4 pt-4">\n\t\t\t        <strong>Select documents below</strong>\n\t\t\t    </div>\n\t\t\t\t<file-upload [(ngModel)]="uploadService.selectedFiles" name="documents" fileslimit="5"\n\t\t\t\t\t [ngModelOptions]="{standalone: true}" (change)="selectFiles($event)">\n\t\t\t\t</file-upload>\n\t\t\t\t\x3c!-- BEGIN: FILE UPLOADER --\x3e\n\t\t\t\t\n\t\t\t\t<div class="pb-4 pt-4">\n\t\t\t        <strong>Select approvers below</strong>\n\t\t\t    </div>\n\t\t\t\t<div class="form-row">\n\t\t\t\t\t<div class="form-group col-md-12">\n\t\t\t\t\t\t<ng-autocomplete \n\t\t\t\t\t\t  #autocomplete\n\t\t\t\t\t\t  [data]="autocompleteArray"\n\t\t\t\t\t\t  placeholder="Search approvers by their names"\n\t\t\t\t\t\t  [searchKeyword]="autocompleteField"\n\t\t\t\t\t\t  (selected)=\'onUserChange($event)\'\n\t\t\t\t\t\t  [ngModel] = \'autocompleteModel\'\n\t\t\t\t\t\t  [ngModelOptions]=\'{standalone: true}\'\n\t\t\t\t\t\t  [itemTemplate]="itemTemplate"\n\t\t\t\t\t\t  [notFoundTemplate]="notFoundTemplate">                                 \n\t\t\t\t\t\t</ng-autocomplete>\t\t\t\t\t\t\n\t\t\t\t\t\t<ng-template #itemTemplate let-item>\n\t\t\t\t\t\t\t<a [innerHTML]="item.name"></a>\n\t\t\t\t\t\t</ng-template>\t\t\t\t\t\t\n\t\t\t\t\t\t<ng-template #notFoundTemplate let-notFound>\n\t\t\t\t\t\t\t<div [innerHTML]="notFound"></div>\n\t\t\t\t\t\t</ng-template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="table-responsive">\t\t\n\t\t\t        <table class="table table-borderless nopadding table-sm">\t\t\n\t\t\t\t\t\t<tr>\t\t\t\t\n\t\t\t\t\t\t\t<th>Added ({{ c.controls.length }}) approvers</th>\t\t\t\t\t\t\n\t\t\t\t\t\t\t<th class="text-right">\n\t\t\t\t                Actions\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<ng-container formArrayName="approvers" *ngFor="let group of c.controls; let i=index">\n\t\t\t\t\t\t\t<tr [formGroupName]="i">\t\t\t\t\t            \n\t\t\t\t\t            <td>\n\t\t\t\t\t\t\t\t\t<div class="form-row">\n\t\t\t\t\t            \t\t<div class="form-group col-md-4">\t\t\t\t            \t\t\t\n\t\t\t\t\t\t\t                <input class="form-control font-weight-bold" type="text" formControlName="fullName"\n\t\t\t\t\t\t\t                \t[ngClass]="{ \'is-invalid\': submitted && group.controls.fullName.errors }"\n\t\t\t\t\t\t\t                \t  [readonly]="true">\n\t\t\t\t\t\t\t\t            <div *ngIf="submitted && group.controls.fullName.errors" class="invalid-feedback">\n\t\t\t\t\t\t\t\t                <div *ngIf="group.controls.fullName.errors.required">Full name is required</div>\n\t\t\t\t\t\t\t\t            </div>  \n\t\t\t\t\t            \t\t</div>\n\t\t\t\t\t            \t\t<div class="form-group col-md-4">\n\t\t\t\t\t            \t\t\t<input class="form-control" placeholder="e.g. +254 000 000 000" formControlName="phoneNo"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="text" [ngClass]="{\'is-invalid\': submitted && group.controls.phoneNo.errors}"\n\t\t\t\t\t\t\t\t\t\t\t\tmask="(+000) 000-000000"  [readonly]="true">\n\t\t\t\t\t\t\t\t            <div *ngIf="submitted && group.controls.phoneNo.errors" class="invalid-feedback">\n\t\t\t\t\t\t\t\t                <div *ngIf="group.controls.phoneNo.errors.required">Phone number is required</div>\n\t\t\t\t\t\t\t\t                <div *ngIf="group.controls.phoneNo.errors.minlength">Must be equal to 12 character(s)</div>\n\t\t\t\t\t\t\t\t                <div *ngIf="group.controls.phoneNo.errors.maxlength">Must be equal to 12 character(s)</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="group.controls.phoneNo.errors.pattern">Incorrect! use format e.g. (+000) 000-000000</div>\n\t\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t            \t\t</div>\t\t\t\t            \t\t\n\t\t\t\t\t            \t\t<div class="form-group col-md-4">\n\t\t\t\t\t            \t\t\t<input type="text" formControlName="email" class="form-control" \n\t\t\t\t\t\t\t\t            \t[ngClass]="{ \'is-invalid\': submitted && group.controls.email.errors }"\n\t\t\t\t\t\t\t\t            \t  [readonly]="true"/>\n\t\t\t\t\t\t\t\t            <div *ngIf="submitted && group.controls.email.errors" class="invalid-feedback">\n\t\t\t\t\t\t\t\t                <div *ngIf="group.controls.email.errors.required">Email is required</div>\n\t\t\t\t\t\t\t\t                <div *ngIf="group.controls.email.errors.email">Email must be a valid email address</div>\n\t\t\t\t\t\t\t\t            </div>\n\t\t\t\t\t            \t\t</div>\n\t\t\t\t\t            \t</div>      \n\t\t\t\t\t            </td>\t\t\t\t\t\t            \t\n\t\t\t\t\t            <td class="text-right pt-4">\n\t\t\t\t\t         \t\t<a href="javascript:" (click)="deleteRow(i)">\n\t\t\t\t\t                \t<i class="feather icon-trash-2 f-16 ml-3 text-c-red"></i>\n\t\t\t\t\t                \tDelete\n\t\t\t\t\t                </a>\n\t\t\t\t\t            </td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</ng-container>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t    <div class="form-group pt-4">\n\t\t\t\t\t<button type="button" [disabled]="loading" (click)="onSubmit()" class="btn btn-primary">\n\t\t\t\t\t\t<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>\n\t\t\t\t\t\tTemporary Save\n\t\t\t\t\t</button>\n\t\t\t\t\t&nbsp;\n\t\t\t\t\t<button type="button" [disabled]="loading" (click)="onSubmit(true)" class="btn btn-primary">\n\t\t\t\t\t\t<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>\n\t\t\t\t\t\tPublish Approval\n\t\t\t\t\t</button>\n\t\t\t        <a routerLink="{{parentUrl}}" class="btn btn-link">Cancel</a>\n\t\t\t    </div>\n\t\t\t</form>\n\t\t</app-card>\n\t</div>\n</div>',styles:[""]})],T);var A=i("9OXH");let j=class extends C.a{constructor(t,e,i,a,n,s,o,l,r,p){super(r,o,i,a,s,n,p),this.apexEvent=t,this.dataService=e,this.companyService=i,this.tokenService=a,this.functions=n,this.constants=s,this.uploadService=o,this.router=l,this.route=r,this.toastr=p,this.pk="approvalID",this.title="Approval Data",this.object="Approval Data",this.objects="Approvals",this.parentUrl="/approvals",this.openUrl="/resources/open/",this.loading=!1,this.submitted=!1,this.errorMessage="",this.documents=[]}ngOnInit(){this.id=this.route.snapshot.params.id,this.approvalPieInit([0,0,100]),this.loadDetails()}loadDetails(){this.dataService.get(this.id).pipe(Object(b.a)()).subscribe(t=>{this.data=t;let e=this.functions.countInArray(t.approvers,{approvalStatus:"approved"})||0,i=this.functions.countInArray(t.approvers,{approvalStatus:"rejected"})||0,a=t.approvers.length-e-i;Object.assign(this.approvalPieChart,{series:[e,i,a]})},t=>{this.errorMessage=h.a.handleError(t,u.a.Messages.RECORDS_NOT_FOUND),this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION),this.router.navigate([this.parentUrl])}),this.uploadService.getAll({where:{"extraData.approvalID":this.id||null}}).subscribe(t=>{this.documents=t},t=>{this.documents=[]})}approvalPieInit(t){this.approvalPieChart={chart:{height:260,type:"pie"},dataLabels:{enabled:!1},series:t,labels:["Approved","Rejected","Pending"],colors:["#2E93fA","#66DA26","#E91E63","#FF9800"],legend:{show:!0,offsetY:50},theme:{monochrome:{enabled:!0,color:"#4099ff"}},responsive:[{breakpoint:768,options:{chart:{height:320},legend:{position:"bottom",offsetY:0}}}]}}approveItem(){return Object(a.b)(this,void 0,void 0,function*(){let t=yield h.a.alertDelete(u.a.Title.APPROVAL,u.a.Messages.APPROVE_CONFIRM);(null==t?void 0:t.value)&&(this.loading=!0,this.dataService.approve(this.id,this.tokenService.getId()).pipe(Object(b.a)()).subscribe(()=>{this.toastr.success(u.a.Messages.APPROVE_SUCCESS,u.a.Title.APPROVAL),this.router.navigate([this.parentUrl])},t=>{this.errorMessage=h.a.handleError(t,u.a.Messages.APPROVE_FAILURE),this.toastr.error(this.errorMessage,u.a.Title.APPROVAL)}).add(()=>{this.loading=!1}))})}rejectItem(){return Object(a.b)(this,void 0,void 0,function*(){let t=yield h.a.alertDelete(u.a.Title.APPROVAL,u.a.Messages.REJECT_CONFIRM);(null==t?void 0:t.value)&&(this.loading=!0,this.dataService.reject(this.id,this.tokenService.getId()).pipe(Object(b.a)()).subscribe(()=>{this.toastr.success(u.a.Messages.REJECT_SUCCESS,u.a.Title.APPROVAL),this.router.navigate([this.parentUrl])},t=>{this.errorMessage=h.a.handleError(t,u.a.Messages.REJECT_FAILURE),this.toastr.error(this.errorMessage,u.a.Title.APPROVAL)}).add(()=>{this.loading=!1}))})}canApproveOrReject(){let t=this.data?this.data.approvers.filter(t=>t.id===this.tokenService.getId()):[],e=t.length>0?t[0].approvalStatus:"pending";return t.length>0&&-1==["approved","rejected"].indexOf(e)}};j.ctorParameters=()=>[{type:A.a},{type:k},{type:w.a},{type:y.a},{type:h.a},{type:u.a},{type:O.a},{type:f.f},{type:f.a},{type:g.b}],j=Object(a.c)([Object(s.Component)({selector:"app-approval-details",template:'<app-basic-crumb [title]="title" [objects]="objects" [url]="parentUrl"></app-basic-crumb>\n<div class="row">\n  <div class="col-md-6 col-sm-12">\n  \t<app-card cardTitle="{{data?.approvalName || \'Approval Name\'}}" blockClass="scrollable-body">\n  \t\t<perfect-scrollbar [style.max-height]="\'385px\'" [style.height]="\'385px\'">\n\t\t     <span>{{data?.description || \'Approval Name\'}}</span>\n\t\t     <div class="row d-flex justify-content-center align-items-center">\n\t\t       <div class="col">\n\t\t         <app-apex-chart chartID="sale-apex-satisfaction-chart" [chartConfig]="approvalPieChart"></app-apex-chart>\n\t\t       </div>\n\t\t     </div>\n\t     </perfect-scrollbar>\n\t</app-card>\n   </div>\n   <div class="col-md-6 col-sm-12">\n  \t<app-card cardTitle="Extra Information" blockClass="scrollable-body">\n  \t\t<perfect-scrollbar [style.max-height]="\'385px\'" [style.height]="\'385px\'">\n\t  \t\t<div class="form-row">\t\t\t\n\t\t\t\t<div class="form-group col-sm-12">\n\t\t\t\t\t<label>Approval Amount:</label>\n\t\t\t\t\t<label class="form-control">{{(data?.approvalAmount | number: 0) || \'XXXXXXXX\'}}</label>\n\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t<div class="form-group col-sm-12">\n\t\t\t\t\t<label>Reference No:</label>\n\t\t\t\t\t<label class="form-control">{{data?.referenceNumber || \'XXXXXXXX\'}}</label>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t\t<div class="form-group col-md-6 col-sm-12">\n\t\t\t\t\t<label>Date Submitted:</label>\n\t\t\t\t\t<label class="form-control">{{(data?.dateSubmitted | date:\'dd-MMM-yyyy\') || \'dd-mmm-yyyy\'}}</label>\n\t\t\t\t</div>\t\t\n\t\t\t\t<div class="form-group col-md-6 col-sm-12">\n\t\t\t\t\t<label>Due Date:</label>\n\t\t\t\t\t<label class="form-control">{{(data?.dueDate | date:\'dd-MMM-yyyy\')  || \'dd-mmm-yyyy\'}}</label>\n\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t    <div class="form-group col-md-12 pt-4">\n\t\t\t\t\t<button type="button" [disabled]="loading || !canApproveOrReject()" (click)="approveItem()" class="btn btn-primary">\n\t\t\t\t\t\t<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>\n\t\t\t\t\t\tApprove Now\n\t\t\t\t\t</button>\n\t\t\t\t\t&nbsp;\n\t\t\t\t\t<button type="button" [disabled]="loading || !canApproveOrReject()" (click)="rejectItem()" class="btn btn-danger">\n\t\t\t\t\t\t<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>\n\t\t\t\t\t\tReject Now!\n\t\t\t\t\t</button>\n\t\t\t    </div>\n\t\t\t</div>\t\n\t\t</perfect-scrollbar>\t\t\n  \t</app-card>\n   </div>\n</div>\n<div class="row">\n  <div class="col-md-12">\n  \t<app-card cardTitle="Attachments">\n\t\t<div class="table-responsive">\n          <table class="table table-bordered table-sm resources">\n\t        <tr template #elseBlock *ngFor="let row of documents | OrderBy:[\'resourceName\'] ; let i=index">           \n\t            <td>\n\t            \t<span class="{{ functions.getResourceIcon(row.mimeType) }} mr-2 ml-2"></span>\n\t            \t<a *ngIf="row.resourceType==\'file\'" routerLink="{{ openUrl + row[pk] }}" \n\t            \t \t[queryParams]="{fullScreen:\'Y\'}"  target="_blank">\n\t            \t\t{{row.resourceName}}\n\t            \t</a>\n\t            </td>\n\t            <td class="text-right">{{ functions.getResourceSize(row.resourceSize) }}</td>\n\t            <td class="text-right">\n\t            \t<a title="View {{object}}" class="text-primary" routerLink="{{openUrl + row[pk]}}">\n\t            \t\t<i class="feather icon-eye"></i> Open\n\t            \t</a>\t\n\t            \t&nbsp;\n\t\t\t\t\t<a *ngIf="tokenService.getUserType()==constants.userTypes.admin.name"\n\t\t\t\t\t\tclass="text-danger" [disabled]="row?.isDeleting" type="button" \n\t\t\t\t\t\ttitle="Archive {{object}}" (click)="deleteResource(row)">\n\t\t\t\t\t\t<span *ngIf="row?.isDeleting" class="spinner-border spinner-border-sm"></span>\n\t\t\t\t\t\t<span *ngIf="!row?.isDeleting"><i class="feather icon-trash"></i></span>\n\t\t\t\t\t\tRemove\n\t\t\t\t\t</a>\n\t            </td>\n            </tr>\n          </table>\n        </div>\n  \t</app-card>\n  </div>\n</div>',styles:[""]})],j);var z=i("gG2O");let P=class{constructor(t,e,i,a,n,s){this.route=t,this.dataService=e,this.functions=i,this.constants=a,this.tokenService=n,this.toastr=s,this.pk="approvalID",this.title="Approval",this.object="Approval",this.editUrl="approvals/edit/",this.detailsUrl="approvals/details/",this.addUrl="approvals/create",this.errorMessage=null,this.filter={term:null,approvalTypeID:null},this.status={},this.status=this.functions.objectify(this.constants.approvalStatus,"value")}ngOnInit(){this.route.queryParams.subscribe(t=>{let e=t.approvalTypeID;this.filter.approvalTypeID=e;let i=e?{approvalTypeID:e}:{};this.dataService.getAll({where:i}).subscribe(t=>{this.rows=t},t=>{this.errorMessage=h.a.handleError(t,u.a.Messages.RECORDS_NOT_FOUND),this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION)})})}deleteRow(t){return Object(a.b)(this,void 0,void 0,function*(){let e=yield h.a.alertDelete(u.a.Title.RECORD_OPERATION,u.a.Messages.CONFIRM_DELETE);(null==e?void 0:e.value)&&(Object.assign(t,{isDeleting:!0}),this.dataService.delete(t[this.pk]).subscribe(e=>{Object.assign(t,{isDeleting:!1}),this.rows=this.rows.filter(e=>e[this.pk]!==t[this.pk]),this.toastr.success(u.a.Messages.DELETE_SUCCESS,u.a.Title.RECORD_OPERATION)},e=>{Object.assign(t,{isDeleting:!1}),this.errorMessage=h.a.handleError(e,u.a.Messages.DELETE_FAILURE),this.toastr.error(this.errorMessage,u.a.Title.RECORD_OPERATION)}))})}getVotes(t){t=t||[];let e=this.functions.countInArray(t,{approvalStatus:"approved"});return e?e+"/"+t.length:"-"}};P.ctorParameters=()=>[{type:f.a},{type:k},{type:h.a},{type:u.a},{type:y.a},{type:g.b}],P=Object(a.c)([Object(s.Component)({selector:"app-approvals",template:'<div class="row">\r\n\t<div class="col-sm-12">\r\n\t    <app-card hidHeader="true" cardClass="table-card" blockClass="p-0">\r\n\t      <div class="table-responsive">\r\n\t      \t<approval-tabs selectedTab="{{filter.approvalTypeID}}"></approval-tabs>\r\n\t        <table class="table">\r\n\t          <tr>\r\n\t          \t<th>#</th>\r\n\t            <th>Approval Name</th>\r\n\t            <th>Due Date</th>\r\n\t            <th>Amount</th>\r\n\t            <th>Votes</th>\r\n\t            <th class="text-center">Status</th>\r\n\t            <th class="text-right">\r\n\t            \t<a *ngIf="tokenService.getUserType()==constants.userTypes.admin.name"\r\n\t            \t\ttitle="Add {{object}}" class="text-primary" routerLink="/{{addUrl}}">\r\n\t\t\t\t\t\t<i class="feather icon-plus"></i> Create Approval\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<span *ngIf="tokenService.getUserType()!=constants.userTypes.admin.name">\r\n\t\t\t\t\t\tActions\r\n\t\t\t\t\t</span>\r\n\t            </th>\r\n\t          </tr>                \t\r\n\t\t\t  <tr *ngIf="!rows || rows.length==0">\r\n\t\t\t\t<td class="text-center" colspan="100%">\r\n\t\t\t\t\t{{\r\n\t\t\t\t\t\terrorMessage? errorMessage :\r\n\t\t\t\t\t\t(\'Search could not find any \'+ title.toLowerCase() + \' records\')\r\n\t\t\t\t\t}}\r\n\t\t\t\t</td>\r\n\t\t\t  </tr>\r\n\t          <tr template #elseBlock *ngFor="let row of rows | OrderBy:[\'-dueDate\'] ; let i=index">           \r\n\t            <td>{{i+1}}.</td>\r\n\t            <td>{{row.approvalName}}</td>\r\n\t            <td>{{(row?.dueDate | date:\'dd-MMM-yyyy\') || \'-\'}}</td>\r\n\t            <td>{{(row?.approvalAmount | number:0) || \'-\'}}</td>\r\n\t            <td>{{getVotes(row?.approvers,\'approved\')}}</td>\r\n\t            <td class="text-center"><span class="{{status[row.approvalStatus]?.badge}}">{{row.approvalStatus}}</span></td>\r\n\t            <td class="text-center">\t            \t\r\n\t\t\t\t\t<a  *ngIf="row.approvalStatus!=\'pending\' ||\r\n\t\t\t\t\t\ttokenService.getUserType()!=constants.userTypes.admin.name" title="View {{object}}" \r\n\t            \t\tclass="text-primary" routerLink="/{{detailsUrl + row[pk]}}">\r\n\t\t\t\t\t\t<i class="feather icon-eye"></i> Open\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a  *ngIf="row.approvalStatus==\'pending\' &&\r\n\t\t\t\t\t\ttokenService.getUserType()==constants.userTypes.admin.name"\r\n\t\t\t\t\t\ttitle="Edit {{object}}" class="text-primary" routerLink="/{{editUrl + row[pk]}}">\r\n\t\t\t\t\t\t<i class="feather icon-edit"></i> Edit\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t<a \r\n\t\t\t\t\t\t*ngIf="tokenService.getUserType()==constants.userTypes.admin.name"\r\n\t\t\t\t\t\tclass="text-danger" [disabled]="row?.isDeleting" type="button" \r\n\t\t\t\t\t\ttitle="Delete {{object}}" (click)="deleteRow(row)">\r\n\t\t\t\t\t\t<span *ngIf="row?.isDeleting" class="spinner-border spinner-border-sm"></span>\r\n\t\t\t\t\t\t<span *ngIf="!row?.isDeleting"><i class="feather icon-trash"></i></span>\r\n\t\t\t\t\t\tArchive\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</td>\r\n\t          </tr>\r\n\t  \t\t</table>\r\n\t  \t</div>\r\n\t  </app-card>\r\n\t</div>\r\n</div>',styles:[""]})],P);const N=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:P,canActivate:[z.a]},{path:"create",component:T,canActivate:[z.a],data:{roles:["admin"]}},{path:"edit/:id",component:T,canActivate:[z.a],data:{roles:["admin"]}},{path:"details/:id",component:j,canActivate:[z.a]},{path:"types",component:x,canActivate:[z.a]},{path:"edit-type/:id",component:x,canActivate:[z.a],data:{roles:["admin"]}}];let _=class{};_=Object(a.c)([Object(s.NgModule)({imports:[f.g.forChild(N)],exports:[f.g]})],_);let F=class{constructor(t){this.approvalTypeService=t,this.selectedTab="",this.parentUrl="/approvals/list",this.approvalTypes=[],this.tabs=[],this.title="Approvals"}ngOnInit(){this.approvalTypeService.getAll().subscribe(t=>{this.tabs.push({id:"",name:"All Approvals",path:this.parentUrl,params:[]});for(let e in t){let i=t[e],a={approvalTypeID:i.approvalTypeID};this.tabs.push({id:i.approvalTypeID,name:i.approvalTypeName,path:this.parentUrl,params:a})}})}};F.ctorParameters=()=>[{type:m}],F.propDecorators={selectedTab:[{type:s.Input}]},F=Object(a.c)([Object(s.Component)({selector:"approval-tabs",template:'<ul class="nav nav-pills m-3">\n  <li class="nav-item" *ngFor="let t of tabs">\n  \t<a class="nav-link" [ngClass]="{\'active\':(t?.id==selectedTab)}" \n  \t\trouterLink="{{t?.path}}" [queryParams]="t?.params">{{t?.name}}</a>\n  </li>\n</ul>',styles:[""]})],F);var V=i("2Vo4"),L=i("XNiG"),U=i("R0Ic");const q=["placeholder"],B=["item"],$=["inputRef"],H=["labelRef"];function Q(t,e){1&t&&s["\u0275\u0275elementContainer"](0)}function X(t,e){1&t&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"b"),s["\u0275\u0275text"](2,"Drag and drop"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](3," files"),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5," or click here "),s["\u0275\u0275elementContainerEnd"]())}function G(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"b"),s["\u0275\u0275text"](1,"Click here"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](2," to"),s["\u0275\u0275element"](3,"br"),s["\u0275\u0275text"](4," choose a files "))}function J(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"file-upload-drop-zone"),s["\u0275\u0275template"](1,X,6,0,"ng-container",7),s["\u0275\u0275template"](2,G,5,0,"ng-template",null,8,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"]()),2&t){const t=e.isFileDragDropAvailable,i=s["\u0275\u0275reference"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t)("ngIfElse",i)}}function Y(t,e){1&t&&s["\u0275\u0275elementContainer"](0)}const K=function(t,e,i,a){return{$implicit:t,file:e,index:i,control:a}};function W(t,e){if(1&t&&s["\u0275\u0275template"](0,Y,1,0,"ng-container",2),2&t){const t=e.$implicit,i=e.index;s["\u0275\u0275nextContext"]();const a=s["\u0275\u0275reference"](4),n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("ngTemplateOutlet",n.listItem?n.listItem:a)("ngTemplateOutletContext",s["\u0275\u0275pureFunction4"](2,K,t,t,i,n.control))}}function Z(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"file-upload-list-item",12),s["\u0275\u0275text"](1,"Remove"),s["\u0275\u0275elementEnd"]()),2&t){const t=e.index,i=e.file,a=e.control;s["\u0275\u0275property"]("index",t)("file",i)("control",a)}}function tt(t,e){if(1&t){const t=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",9),s["\u0275\u0275listener"]("@insertAnimation.done",function(e){s["\u0275\u0275restoreView"](t);return s["\u0275\u0275nextContext"]().animationListFinished(e)}),s["\u0275\u0275template"](1,W,1,7,"ng-template",10),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275template"](3,Z,2,3,"ng-template",null,11,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"]()}if(2&t){const t=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("@insertAnimation",t.control.size),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",s["\u0275\u0275pipeBind1"](2,2,t.control.valueChanges))}}const et=["*"];function it(t,e){1&t&&(s["\u0275\u0275namespaceSVG"](),s["\u0275\u0275elementStart"](0,"svg",3),s["\u0275\u0275elementStart"](1,"g"),s["\u0275\u0275element"](2,"path",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function at(t,e){1&t&&(s["\u0275\u0275namespaceSVG"](),s["\u0275\u0275elementStart"](0,"svg",3),s["\u0275\u0275elementStart"](1,"g"),s["\u0275\u0275element"](2,"path",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function nt(t,e){1&t&&(s["\u0275\u0275namespaceSVG"](),s["\u0275\u0275elementStart"](0,"svg",3),s["\u0275\u0275elementStart"](1,"g"),s["\u0275\u0275element"](2,"path",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function st(t,e){1&t&&(s["\u0275\u0275namespaceSVG"](),s["\u0275\u0275elementStart"](0,"svg",3),s["\u0275\u0275elementStart"](1,"g"),s["\u0275\u0275element"](2,"path",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function ot(t,e){1&t&&(s["\u0275\u0275namespaceSVG"](),s["\u0275\u0275elementStart"](0,"svg",3),s["\u0275\u0275elementStart"](1,"g"),s["\u0275\u0275element"](2,"path",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}const lt=["overlay"];function rt(t,e){1&t&&s["\u0275\u0275elementContainer"](0)}function pt(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"file-upload-drop-zone"),s["\u0275\u0275elementStart"](1,"b"),s["\u0275\u0275text"](2,"Drop"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](3," it here "),s["\u0275\u0275elementEnd"]())}function ct(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"div",1,2),s["\u0275\u0275elementStart"](2,"div",3),s["\u0275\u0275template"](3,rt,1,0,"ng-container",4),s["\u0275\u0275template"](4,pt,4,0,"ng-template",null,5,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){const t=s["\u0275\u0275reference"](5),e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngTemplateOutlet",e.templateRef?e.templateRef:t)}}const dt=["button"];function mt(t,e){1&t&&s["\u0275\u0275elementContainer"](0)}const ht=function(t,e,i){return{$implicit:t,control:e,file:i}};function ut(t,e){if(1&t&&s["\u0275\u0275template"](0,mt,1,0,"ng-container",5),2&t){const t=s["\u0275\u0275nextContext"](),e=s["\u0275\u0275reference"](4);s["\u0275\u0275property"]("ngTemplateOutlet",t.placeholderRef?t.placeholderRef:e)("ngTemplateOutletContext",s["\u0275\u0275pureFunction3"](2,ht,t.control.value[0],t.control,t.control.value[0]))}}function vt(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"span",11),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&t){const t=s["\u0275\u0275nextContext"]().$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](t.name)}}function ft(t,e){1&t&&s["\u0275\u0275text"](0," Select a file... ")}function gt(t,e){if(1&t&&(s["\u0275\u0275template"](0,vt,2,1,"span",9),s["\u0275\u0275template"](1,ft,1,0,"ng-template",null,10,s["\u0275\u0275templateRefExtractor"])),2&t){const t=e.$implicit,i=s["\u0275\u0275reference"](2);s["\u0275\u0275property"]("ngIf",t)("ngIfElse",i)}}function bt(t,e){1&t&&s["\u0275\u0275elementContainer"](0)}function xt(t,e){1&t&&(s["\u0275\u0275elementStart"](0,"div",12),s["\u0275\u0275elementStart"](1,"div",13),s["\u0275\u0275namespaceSVG"](),s["\u0275\u0275elementStart"](2,"svg",14),s["\u0275\u0275elementStart"](3,"g"),s["\u0275\u0275element"](4,"path",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275namespaceHTML"](),s["\u0275\u0275elementStart"](5,"span",16),s["\u0275\u0275text"](6,"Browse"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}const yt=function(t){return{control:t}};function wt(t){return null==t||0===t.length}var Ct,Ot,Et,It;!function(t){t[t.INVALID=0]="INVALID",t[t.VALID=1]="VALID",t[t.DISABLED=2]="DISABLED"}(Ct||(Ct={})),function(t){t.click="click",t.focus="focus",t.blur="blur"}(Ot||(Ot={}));class Dt{constructor(t){this.files=new Set,this.listVisible=!0,this.status=Ct.VALID,this.errors=[],this.validators=[],this.multipleEnabled=!0,this.multipleChanged=new V.a(this.multipleEnabled),this.statusChanged=new L.a,this.eventsChanged=new L.a,this.accept=null,this.acceptChanged=new V.a(this.accept),this.statusChanges=this.statusChanged.asObservable(),this.valueChanges=new V.a([]),this.listVisibilityChanges=new V.a(this.listVisible),this.acceptChanges=this.acceptChanged.asObservable(),this.eventsChanges=this.eventsChanged.asObservable(),this.multipleChanges=this.multipleChanged.asObservable(),this.defineValidators(t)}setValidators(t){return this.defineValidators(t),this.validate(),this}defineValidators(t){wt(t)||(this.validators=Array.isArray(t)?[...t]:[t])}addFile(t){return this.multipleEnabled||1!==this.files.size||this.files.clear(),this.files.add(t),this.validate(),this.valueChanges.next(Array.from(this.files.values())),this}removeFile(t){return this.disabled||(this.files.delete(t),this.validate(),this.valueChanges.next(Array.from(this.files.values()))),this}addFiles(t){return this.addMultipleFiles(Array.from(t)),this}addMultipleFiles(t){this.multipleEnabled||wt(t)?(t.forEach(t=>this.files.add(t)),this.validate(),this.valueChanges.next(Array.from(this.files.values()))):this.addFile(t[0])}get valid(){return 0===this.errors.length&&this.status!==Ct.DISABLED}get invalid(){return this.errors.length>0}getError(){return this.errors}get size(){return this.files.size}get value(){return Array.from(this.files.values())}setValue(t){if(this.files.clear(),!(t instanceof Array))throw Error(`FormControl.setValue was provided with wrong argument type, ${t} was provided instead Array<File>`);return this.addMultipleFiles(t),this}clear(){return this.files.clear(),this.validate(),this.valueChanges.next(Array.from(this.files.values())),this}get isListVisible(){return this.listVisible}setListVisibility(t=!0){return this.listVisible=t,this.listVisibilityChanges.next(this.listVisible),this}get disabled(){return this.status===Ct.DISABLED}enable(t=!0){return this.status=t?Ct.VALID:Ct.DISABLED,this.validate(),this.statusChanged.next(this.status),this}disable(t=!0){return this.status=t?Ct.DISABLED:Ct.VALID,this.validate(),this.statusChanged.next(this.status),this}click(){return this.eventsChanged.next(Ot.click),this}focus(){return this.eventsChanged.next(Ot.focus),this}blur(){return this.eventsChanged.next(Ot.blur),this}acceptFiles(t){return this.accept=t,this.acceptChanged.next(this.accept),this}acceptAll(){return this.accept=null,this.acceptChanged.next(this.accept),this}get isMultiple(){return this.multipleEnabled}multiple(t=!0){return this.multipleEnabled=t,this.multipleChanged.next(this.multipleEnabled),this}validate(){if(this.status!==Ct.DISABLED){const t=this.valid;this.errors=this.validators.map(t=>t(this)).filter(t=>t),t!==this.valid&&this.statusChanged.next(this.valid?Ct.VALID:Ct.INVALID)}else this.errors.length=0}}!function(t){t[t.None=0]="None",t[t.Read=4]="Read",t[t.Write=2]="Write",t[t.ReadWrite=6]="ReadWrite",t[t.Execute=1]="Execute",t[t.ReadWriteExecute=7]="ReadWriteExecute",t[t.ExecuteRead=5]="ExecuteRead",t[t.r=4]="r",t[t.w=2]="w",t[t.x=1]="x",t[t.rw=6]="rw",t[t.rwx=7]="rwx",t[t.xr=5]="xr"}(Et||(Et={})),function(t){t.arc="application/octet-stream",t.midi="audio/midi",t.ts="application/typescript",t.woff2="font/woff2",t.evy="application/envoy",t.fif="application/fractals",t.hta="application/hta",t.acx="application/internet-property-stream",t.dot="application/msword",t.dms="application/octet-stream",t.eps="application/postscript",t.ps="application/postscript",t.xla="application/vnd.ms-excel",t.xlc="application/vnd.ms-excel",t.xlm="application/vnd.ms-excel",t.xlt="application/vnd.ms-excel",t.xlw="application/vnd.ms-excel",t.msg="application/vnd.ms-outlook",t.sst="application/vnd.ms-pkicertstore",t.pot="application/vnd.ms-powerpoint",t.pps="application/vnd.ms-powerpoint",t.wcm="application/vnd.ms-works",t.wdb="application/vnd.ms-works",t.wks="application/vnd.ms-works",t.cdf="application/x-cdf",t.tgz="application/x-compressed",t.dcr="application/x-director",t.dxr="application/x-director",t.gz="application/x-gzip",t.ins="application/x-internet-signup",t.isp="application/x-internet-signup",t.iii="application/x-iphone",t.dll="application/x-msdownload",t.m13="application/x-msmediaview",t.m14="application/x-msmediaview",t.pma="application/x-perfmon",t.pmc="application/x-perfmon",t.pmr="application/x-perfmon",t.pmw="application/x-perfmon",t.pfx="application/x-pkcs12",t.spc="application/x-pkcs7-certificates",t.p7c="application/x-pkcs7-mime",t.texi="application/x-texinfo",t.roff="application/x-troff",t.tr="application/x-troff",t.man="application/x-troff-man",t.me="application/x-troff-me",t.ms="application/x-troff-ms",t.crt="application/x-x509-ca-cert",t.pko="application/ynd.ms-pkipko",t.snd="audio/basic",t.rmi="audio/mid",t.mp3="audio/mpeg",t.aifc="audio/x-aiff",t.aiff="audio/x-aiff",t.ra="audio/x-pn-realaudio",t.jpe="image/jpeg",t.jpeg="image/jpeg",t.jfif="image/pipeg",t.tif="image/tiff",t.mht="message/rfc822",t.mhtml="message/rfc822",t.nws="message/rfc822",t.htm="text/html",t.stm="text/html",t.uls="text/iuls",t.sct="text/scriptlet",t.htt="text/webviewhtml",t.htc="text/x-component",t.mp2="video/mpeg",t.mpa="video/mpeg",t.mpe="video/mpeg",t.mpg="video/mpeg",t.mpv2="video/mpeg",t.mov="video/quicktime",t.lsf="video/x-la-asf",t.lsx="video/x-la-asf",t.asr="video/x-ms-asf",t.asx="video/x-ms-asf",t.flr="x-world/x-vrml",t.vrml="x-world/x-vrml",t.wrz="x-world/x-vrml",t.xaf="x-world/x-vrml",t.xof="x-world/x-vrml",t.x3d="application/vnd.hzn-3d-crossword",t["3gp"]="video/3gpp",t["3g2"]="video/3gpp2",t.mseq="application/vnd.mseq",t.pwn="application/vnd.3m.post-it-notes",t.plb="application/vnd.3gpp.pic-bw-large",t.psb="application/vnd.3gpp.pic-bw-small",t.pvb="application/vnd.3gpp.pic-bw-var",t.tcap="application/vnd.3gpp2.tcap",t["7z"]="application/x-7z-compressed",t.abw="application/x-abiword",t.ace="application/x-ace-compressed",t.acc="application/vnd.americandynamics.acc",t.acu="application/vnd.acucobol",t.atc="application/vnd.acucorp",t.adp="audio/adpcm",t.aab="application/x-authorware-bin",t.aam="application/x-authorware-map",t.aas="application/x-authorware-seg",t.air="application/vnd.adobe.air-application-installer-package+zip",t.swf="application/x-shockwave-flash",t.fxp="application/vnd.adobe.fxp",t.pdf="application/pdf",t.ppd="application/vnd.cups-ppd",t.dir="application/x-director",t.xdp="application/vnd.adobe.xdp+xml",t.xfdf="application/vnd.adobe.xfdf",t.aac="audio/x-aac",t.ahead="application/vnd.ahead.space",t.azf="application/vnd.airzip.filesecure.azf",t.azs="application/vnd.airzip.filesecure.azs",t.azw="application/vnd.amazon.ebook",t.ami="application/vnd.amiga.ami",t.apk="application/vnd.android.package-archive",t.cii="application/vnd.anser-web-certificate-issue-initiation",t.fti="application/vnd.anser-web-funds-transfer-initiation",t.atx="application/vnd.antix.game-component",t.dmg="application/x-apple-diskimage",t.mpkg="application/vnd.apple.installer+xml",t.aw="application/applixware",t.les="application/vnd.hhe.lesson-player",t.swi="application/vnd.aristanetworks.swi",t.s="text/x-asm",t.atomcat="application/atomcat+xml",t.atomsvc="application/atomsvc+xml",t.atom="application/atom+xml",t.ac="application/pkix-attr-cert",t.aif="audio/x-aiff",t.avi="video/x-msvideo",t.aep="application/vnd.audiograph",t.dxf="image/vnd.dxf",t.dwf="model/vnd.dwf",t.par="text/plain-bas",t.bcpio="application/x-bcpio",t.bin="application/octet-stream",t.bmp="image/bmp",t.torrent="application/x-bittorrent",t.cod="application/vnd.rim.cod",t.mpm="application/vnd.blueice.multipass",t.bmi="application/vnd.bmi",t.sh="application/x-sh",t.btif="image/prs.btif",t.rep="application/vnd.businessobjects",t.bz="application/x-bzip",t.bz2="application/x-bzip2",t.csh="application/x-csh",t.c="text/x-c",t.cdxml="application/vnd.chemdraw+xml",t.css="text/css",t.cdx="chemical/x-cdx",t.cml="chemical/x-cml",t.csml="chemical/x-csml",t.cdbcmsg="application/vnd.contact.cmsg",t.cla="application/vnd.claymore",t.c4g="application/vnd.clonk.c4group",t.sub="image/vnd.dvb.subtitle",t.cdmia="application/cdmi-capability",t.cdmic="application/cdmi-container",t.cdmid="application/cdmi-domain",t.cdmio="application/cdmi-object",t.cdmiq="application/cdmi-queue",t.c11amc="application/vnd.cluetrust.cartomobile-config",t.c11amz="application/vnd.cluetrust.cartomobile-config-pkg",t.ras="image/x-cmu-raster",t.dae="model/vnd.collada+xml",t.csv="text/csv",t.cpt="application/mac-compactpro",t.wmlc="application/vnd.wap.wmlc",t.cgm="image/cgm",t.ice="x-conference/x-cooltalk",t.cmx="image/x-cmx",t.xar="application/vnd.xara",t.cmc="application/vnd.cosmocaller",t.cpio="application/x-cpio",t.clkx="application/vnd.crick.clicker",t.clkk="application/vnd.crick.clicker.keyboard",t.clkp="application/vnd.crick.clicker.palette",t.clkt="application/vnd.crick.clicker.template",t.clkw="application/vnd.crick.clicker.wordbank",t.wbs="application/vnd.criticaltools.wbs+xml",t.cryptonote="application/vnd.rig.cryptonote",t.cif="chemical/x-cif",t.cmdf="chemical/x-cmdf",t.cu="application/cu-seeme",t.cww="application/prs.cww",t.curl="text/vnd.curl",t.dcurl="text/vnd.curl.dcurl",t.mcurl="text/vnd.curl.mcurl",t.scurl="text/vnd.curl.scurl",t.car="application/vnd.curl.car",t.pcurl="application/vnd.curl.pcurl",t.cmp="application/vnd.yellowriver-custom-menu",t.dssc="application/dssc+der",t.xdssc="application/dssc+xml",t.deb="application/x-debian-package",t.uva="audio/vnd.dece.audio",t.uvi="image/vnd.dece.graphic",t.uvh="video/vnd.dece.hd",t.uvm="video/vnd.dece.mobile",t.uvu="video/vnd.uvvu.mp4",t.uvp="video/vnd.dece.pd",t.uvs="video/vnd.dece.sd",t.uvv="video/vnd.dece.video",t.dvi="application/x-dvi",t.seed="application/vnd.fdsn.seed",t.dtb="application/x-dtbook+xml",t.res="application/x-dtbresource+xml",t.ait="application/vnd.dvb.ait",t.svc="application/vnd.dvb.service",t.eol="audio/vnd.digital-winds",t.djvu="image/vnd.djvu",t.dtd="application/xml-dtd",t.mlp="application/vnd.dolby.mlp",t.wad="application/x-doom",t.dpg="application/vnd.dpgraph",t.dra="audio/vnd.dra",t.dfac="application/vnd.dreamfactory",t.dts="audio/vnd.dts",t.dtshd="audio/vnd.dts.hd",t.dwg="image/vnd.dwg",t.geo="application/vnd.dynageo",t.es="application/ecmascript",t.mag="application/vnd.ecowin.chart",t.mmr="image/vnd.fujixerox.edmics-mmr",t.rlc="image/vnd.fujixerox.edmics-rlc",t.exi="application/exi",t.mgz="application/vnd.proteus.magazine",t.epub="application/epub+zip",t.eml="message/rfc822",t.nml="application/vnd.enliven",t.xpr="application/vnd.is-xpr",t.xif="image/vnd.xiff",t.xfdl="application/vnd.xfdl",t.emma="application/emma+xml",t.ez2="application/vnd.ezpix-album",t.ez3="application/vnd.ezpix-package",t.fst="image/vnd.fst",t.fvt="video/vnd.fvt",t.fbs="image/vnd.fastbidsheet",t.fe_launch="application/vnd.denovo.fcselayout-link",t.f4v="video/x-f4v",t.flv="video/x-flv",t.fpx="image/vnd.fpx",t.npx="image/vnd.net-fpx",t.flx="text/vnd.fmi.flexstor",t.fli="video/x-fli",t.ftc="application/vnd.fluxtime.clip",t.fdf="application/vnd.fdf",t.f="text/x-fortran",t.mif="application/vnd.mif",t.fm="application/vnd.framemaker",t.fh="image/x-freehand",t.fsc="application/vnd.fsc.weblaunch",t.fnc="application/vnd.frogans.fnc",t.ltf="application/vnd.frogans.ltf",t.ddd="application/vnd.fujixerox.ddd",t.xdw="application/vnd.fujixerox.docuworks",t.xbd="application/vnd.fujixerox.docuworks.binder",t.oas="application/vnd.fujitsu.oasys",t.oa2="application/vnd.fujitsu.oasys2",t.oa3="application/vnd.fujitsu.oasys3",t.fg5="application/vnd.fujitsu.oasysgp",t.bh2="application/vnd.fujitsu.oasysprs",t.spl="application/x-futuresplash",t.fzs="application/vnd.fuzzysheet",t.g3="image/g3fax",t.gmx="application/vnd.gmx",t.gtw="model/vnd.gtw",t.txd="application/vnd.genomatix.tuxedo",t.ggb="application/vnd.geogebra.file",t.ggt="application/vnd.geogebra.tool",t.gdl="model/vnd.gdl",t.gex="application/vnd.geometry-explorer",t.gxt="application/vnd.geonext",t.g2w="application/vnd.geoplan",t.g3w="application/vnd.geospace",t.gsf="application/x-font-ghostscript",t.bdf="application/x-font-bdf",t.gtar="application/x-gtar",t.texinfo="application/x-texinfo",t.gnumeric="application/x-gnumeric",t.kml="application/vnd.google-earth.kml+xml",t.kmz="application/vnd.google-earth.kmz",t.gqf="application/vnd.grafeq",t.gif="image/gif",t.gv="text/vnd.graphviz",t.gac="application/vnd.groove-account",t.ghf="application/vnd.groove-help",t.gim="application/vnd.groove-identity-message",t.grv="application/vnd.groove-injector",t.gtm="application/vnd.groove-tool-message",t.tpl="application/vnd.groove-tool-template",t.vcg="application/vnd.groove-vcard",t.h261="video/h261",t.h263="video/h263",t.h264="video/h264",t.hpid="application/vnd.hp-hpid",t.hps="application/vnd.hp-hps",t.hdf="application/x-hdf",t.rip="audio/vnd.rip",t.hbci="application/vnd.hbci",t.jlt="application/vnd.hp-jlyt",t.pcl="application/vnd.hp-pcl",t.hpgl="application/vnd.hp-hpgl",t.hvs="application/vnd.yamaha.hv-script",t.hvd="application/vnd.yamaha.hv-dic",t.hvp="application/vnd.yamaha.hv-voice",t["sfd-hdstx"]="application/vnd.hydrostatix.sof-data",t.stk="application/hyperstudio",t.hal="application/vnd.hal+xml",t.html="text/html",t.irm="application/vnd.ibm.rights-management",t.sc="application/vnd.ibm.secure-container",t.ics="text/calendar",t.icc="application/vnd.iccprofile",t.ico="image/x-icon",t.igl="application/vnd.igloader",t.ief="image/ief",t.ivp="application/vnd.immervision-ivp",t.ivu="application/vnd.immervision-ivu",t.rif="application/reginfo+xml",t["3dml"]="text/vnd.in3d.3dml",t.spot="text/vnd.in3d.spot",t.igs="model/iges",t.i2g="application/vnd.intergeo",t.cdy="application/vnd.cinderella",t.xpw="application/vnd.intercon.formnet",t.fcs="application/vnd.isac.fcs",t.ipfix="application/ipfix",t.cer="application/pkix-cert",t.pki="application/pkixcmp",t.crl="application/pkix-crl",t.pkipath="application/pkix-pkipath",t.igm="application/vnd.insors.igm",t.rcprofile="application/vnd.ipunplugged.rcprofile",t.irp="application/vnd.irepository.package+xml",t.jad="text/vnd.sun.j2me.app-descriptor",t.jar="application/java-archive",t.class="application/java-vm",t.jnlp="application/x-java-jnlp-file",t.ser="application/java-serialized-object",t.java="text/x-java-source,java",t.js="application/javascript",t.json="application/json",t.joda="application/vnd.joost.joda-archive",t.jpm="video/jpm",t.jpg="image/jpeg",t.pjpeg="image/pjpeg",t.jpgv="video/jpeg",t.ktz="application/vnd.kahootz",t.mmd="application/vnd.chipnuts.karaoke-mmd",t.karbon="application/vnd.kde.karbon",t.chrt="application/vnd.kde.kchart",t.kfo="application/vnd.kde.kformula",t.flw="application/vnd.kde.kivio",t.kon="application/vnd.kde.kontour",t.kpr="application/vnd.kde.kpresenter",t.ksp="application/vnd.kde.kspread",t.kwd="application/vnd.kde.kword",t.htke="application/vnd.kenameaapp",t.kia="application/vnd.kidspiration",t.kne="application/vnd.kinar",t.sse="application/vnd.kodak-descriptor",t.lasxml="application/vnd.las.las+xml",t.latex="application/x-latex",t.lbd="application/vnd.llamagraphics.life-balance.desktop",t.lbe="application/vnd.llamagraphics.life-balance.exchange+xml",t.jam="application/vnd.jam",t.apr="application/vnd.lotus-approach",t.pre="application/vnd.lotus-freelance",t.nsf="application/vnd.lotus-notes",t.org="application/vnd.lotus-organizer",t.scm="application/vnd.lotus-screencam",t.lwp="application/vnd.lotus-wordpro",t.lvp="audio/vnd.lucent.voice",t.m3u="audio/x-mpegurl",t.m4v="video/x-m4v",t.hqx="application/mac-binhex40",t.portpkg="application/vnd.macports.portpkg",t.mgp="application/vnd.osgeo.mapguide.package",t.mrc="application/marc",t.mrcx="application/marcxml+xml",t.mxf="application/mxf",t.nbp="application/vnd.wolfram.player",t.ma="application/mathematica",t.mathml="application/mathml+xml",t.mbox="application/mbox",t.mc1="application/vnd.medcalcdata",t.mscml="application/mediaservercontrol+xml",t.cdkey="application/vnd.mediastation.cdkey",t.mwf="application/vnd.mfer",t.mfm="application/vnd.mfmp",t.msh="model/mesh",t.mads="application/mads+xml",t.mets="application/mets+xml",t.mods="application/mods+xml",t.meta4="application/metalink4+xml",t.mcd="application/vnd.mcd",t.flo="application/vnd.micrografx.flo",t.igx="application/vnd.micrografx.igx",t.es3="application/vnd.eszigno3+xml",t.mdb="application/x-msaccess",t.asf="video/x-ms-asf",t.exe="application/x-msdownload",t.cil="application/vnd.ms-artgalry",t.cab="application/vnd.ms-cab-compressed",t.ims="application/vnd.ms-ims",t.application="application/x-ms-application",t.clp="application/x-msclip",t.mdi="image/vnd.ms-modi",t.eot="application/vnd.ms-fontobject",t.xls="application/vnd.ms-excel",t.xlam="application/vnd.ms-excel.addin.macroenabled.12",t.xlsb="application/vnd.ms-excel.sheet.binary.macroenabled.12",t.xltm="application/vnd.ms-excel.template.macroenabled.12",t.xlsm="application/vnd.ms-excel.sheet.macroenabled.12",t.chm="application/vnd.ms-htmlhelp",t.crd="application/x-mscardfile",t.lrm="application/vnd.ms-lrm",t.mvb="application/x-msmediaview",t.mny="application/x-msmoney",t.pptx="application/vnd.openxmlformats-officedocument.presentationml.presentation",t.sldx="application/vnd.openxmlformats-officedocument.presentationml.slide",t.ppsx="application/vnd.openxmlformats-officedocument.presentationml.slideshow",t.potx="application/vnd.openxmlformats-officedocument.presentationml.template",t.xlsx="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",t.xltx="application/vnd.openxmlformats-officedocument.spreadsheetml.template",t.docx="application/vnd.openxmlformats-officedocument.wordprocessingml.document",t.dotx="application/vnd.openxmlformats-officedocument.wordprocessingml.template",t.obd="application/x-msbinder",t.thmx="application/vnd.ms-officetheme",t.onetoc="application/onenote",t.pya="audio/vnd.ms-playready.media.pya",t.pyv="video/vnd.ms-playready.media.pyv",t.ppt="application/vnd.ms-powerpoint",t.ppa="application/vnd.ms-powerpoint",t.ppam="application/vnd.ms-powerpoint.addin.macroenabled.12",t.sldm="application/vnd.ms-powerpoint.slide.macroenabled.12",t.pptm="application/vnd.ms-powerpoint.presentation.macroenabled.12",t.ppsm="application/vnd.ms-powerpoint.slideshow.macroenabled.12",t.potm="application/vnd.ms-powerpoint.template.macroenabled.12",t.mpp="application/vnd.ms-project",t.pub="application/x-mspublisher",t.scd="application/x-msschedule",t.xap="application/x-silverlight-app",t.stl="application/vnd.ms-pki.stl",t.cat="application/vnd.ms-pki.seccat",t.vsd="application/vnd.visio",t.vsdx="application/vnd.visio2013",t.wm="video/x-ms-wm",t.wma="audio/x-ms-wma",t.wax="audio/x-ms-wax",t.wmx="video/x-ms-wmx",t.wmd="application/x-ms-wmd",t.wpl="application/vnd.ms-wpl",t.wmz="application/x-ms-wmz",t.wmv="video/x-ms-wmv",t.wvx="video/x-ms-wvx",t.wmf="application/x-msmetafile",t.trm="application/x-msterminal",t.doc="application/msword",t.docm="application/vnd.ms-word.document.macroenabled.12",t.dotm="application/vnd.ms-word.template.macroenabled.12",t.wri="application/x-mswrite",t.wps="application/vnd.ms-works",t.xbap="application/x-ms-xbap",t.xps="application/vnd.ms-xpsdocument",t.mid="audio/midi",t.mpy="application/vnd.ibm.minipay",t.afp="application/vnd.ibm.modcap",t.rms="application/vnd.jcp.javame.midlet-rms",t.tmo="application/vnd.tmobile-livetv",t.prc="application/x-mobipocket-ebook",t.mbk="application/vnd.mobius.mbk",t.dis="application/vnd.mobius.dis",t.plc="application/vnd.mobius.plc",t.mqy="application/vnd.mobius.mqy",t.msl="application/vnd.mobius.msl",t.txf="application/vnd.mobius.txf",t.daf="application/vnd.mobius.daf",t.fly="text/vnd.fly",t.mpc="application/vnd.mophun.certificate",t.mpn="application/vnd.mophun.application",t.mj2="video/mj2",t.mpga="audio/mpeg",t.mxu="video/vnd.mpegurl",t.mpeg="video/mpeg",t.m21="application/mp21",t.mp4a="audio/mp4",t.mp4="video/mp4",t.m3u8="application/vnd.apple.mpegurl",t.mus="application/vnd.musician",t.msty="application/vnd.muvee.style",t.mxml="application/xv+xml",t.ngdat="application/vnd.nokia.n-gage.data",t["n-gage"]="application/vnd.nokia.n-gage.symbian.install",t.ncx="application/x-dtbncx+xml",t.nc="application/x-netcdf",t.nlu="application/vnd.neurolanguage.nlu",t.dna="application/vnd.dna",t.nnd="application/vnd.noblenet-directory",t.nns="application/vnd.noblenet-sealer",t.nnw="application/vnd.noblenet-web",t.rpst="application/vnd.nokia.radio-preset",t.rpss="application/vnd.nokia.radio-presets",t.n3="text/n3",t.edm="application/vnd.novadigm.edm",t.edx="application/vnd.novadigm.edx",t.ext="application/vnd.novadigm.ext",t.gph="application/vnd.flographit",t.ecelp4800="audio/vnd.nuera.ecelp4800",t.ecelp7470="audio/vnd.nuera.ecelp7470",t.ecelp9600="audio/vnd.nuera.ecelp9600",t.oda="application/oda",t.ogx="application/ogg",t.oga="audio/ogg",t.ogv="video/ogg",t.dd2="application/vnd.oma.dd2+xml",t.oth="application/vnd.oasis.opendocument.text-web",t.opf="application/oebps-package+xml",t.qbo="application/vnd.intu.qbo",t.oxt="application/vnd.openofficeorg.extension",t.osf="application/vnd.yamaha.openscoreformat",t.weba="audio/webm",t.webm="video/webm",t.odc="application/vnd.oasis.opendocument.chart",t.otc="application/vnd.oasis.opendocument.chart-template",t.odb="application/vnd.oasis.opendocument.database",t.odf="application/vnd.oasis.opendocument.formula",t.odft="application/vnd.oasis.opendocument.formula-template",t.odg="application/vnd.oasis.opendocument.graphics",t.otg="application/vnd.oasis.opendocument.graphics-template",t.odi="application/vnd.oasis.opendocument.image",t.oti="application/vnd.oasis.opendocument.image-template",t.odp="application/vnd.oasis.opendocument.presentation",t.otp="application/vnd.oasis.opendocument.presentation-template",t.ods="application/vnd.oasis.opendocument.spreadsheet",t.ots="application/vnd.oasis.opendocument.spreadsheet-template",t.odt="application/vnd.oasis.opendocument.text",t.odm="application/vnd.oasis.opendocument.text-master",t.ott="application/vnd.oasis.opendocument.text-template",t.ktx="image/ktx",t.sxc="application/vnd.sun.xml.calc",t.stc="application/vnd.sun.xml.calc.template",t.sxd="application/vnd.sun.xml.draw",t.std="application/vnd.sun.xml.draw.template",t.sxi="application/vnd.sun.xml.impress",t.sti="application/vnd.sun.xml.impress.template",t.sxm="application/vnd.sun.xml.math",t.sxw="application/vnd.sun.xml.writer",t.sxg="application/vnd.sun.xml.writer.global",t.stw="application/vnd.sun.xml.writer.template",t.otf="application/x-font-otf",t.osfpvg="application/vnd.yamaha.openscoreformat.osfpvg+xml",t.dp="application/vnd.osgi.dp",t.pdb="application/vnd.palm",t.p="text/x-pascal",t.paw="application/vnd.pawaafile",t.pclxl="application/vnd.hp-pclxl",t.efif="application/vnd.picsel",t.pcx="image/x-pcx",t.psd="image/vnd.adobe.photoshop",t.prf="application/pics-rules",t.pic="image/x-pict",t.chat="application/x-chat",t.p10="application/pkcs10",t.p12="application/x-pkcs12",t.p7m="application/pkcs7-mime",t.p7s="application/pkcs7-signature",t.p7r="application/x-pkcs7-certreqresp",t.p7b="application/x-pkcs7-certificates",t.p8="application/pkcs8",t.plf="application/vnd.pocketlearn",t.pnm="image/x-portable-anymap",t.pbm="image/x-portable-bitmap",t.pcf="application/x-font-pcf",t.pfr="application/font-tdpfr",t.pgn="application/x-chess-pgn",t.pgm="image/x-portable-graymap",t.png="image/png",t.ppm="image/x-portable-pixmap",t.pskcxml="application/pskc+xml",t.pml="application/vnd.ctc-posml",t.ai="application/postscript",t.pfa="application/x-font-type1",t.pbd="application/vnd.powerbuilder6",t.pgp="application/pgp-encrypted",t.box="application/vnd.previewsystems.box",t.ptid="application/vnd.pvi.ptid1",t.pls="application/pls+xml",t.str="application/vnd.pg.format",t.ei6="application/vnd.pg.osasli",t.dsc="text/prs.lines.tag",t.psf="application/x-font-linux-psf",t.qps="application/vnd.publishare-delta-tree",t.wg="application/vnd.pmi.widget",t.qxd="application/vnd.quark.quarkxpress",t.esf="application/vnd.epson.esf",t.msf="application/vnd.epson.msf",t.ssf="application/vnd.epson.ssf",t.qam="application/vnd.epson.quickanime",t.qfx="application/vnd.intu.qfx",t.qt="video/quicktime",t.rar="application/x-rar-compressed",t.ram="audio/x-pn-realaudio",t.rmp="audio/x-pn-realaudio-plugin",t.rsd="application/rsd+xml",t.rm="application/vnd.rn-realmedia",t.bed="application/vnd.realvnc.bed",t.mxl="application/vnd.recordare.musicxml",t.musicxml="application/vnd.recordare.musicxml+xml",t.rnc="application/relax-ng-compact-syntax",t.rdz="application/vnd.data-vision.rdz",t.rdf="application/rdf+xml",t.rp9="application/vnd.cloanto.rp9",t.jisp="application/vnd.jisp",t.rtf="application/rtf",t.rtx="text/richtext",t.link66="application/vnd.route66.link66+xml",t.rss="application/rss+xml,",t.shf="application/shf+xml",t.st="application/vnd.sailingtracker.track",t.svg="image/svg+xml",t.sus="application/vnd.sus-calendar",t.sru="application/sru+xml",t.setpay="application/set-payment-initiation",t.setreg="application/set-registration-initiation",t.sema="application/vnd.sema",t.semd="application/vnd.semd",t.semf="application/vnd.semf",t.see="application/vnd.seemail",t.snf="application/x-font-snf",t.spq="application/scvp-vp-request",t.spp="application/scvp-vp-response",t.scq="application/scvp-cv-request",t.scs="application/scvp-cv-response",t.sdp="application/sdp",t.etx="text/x-setext",t.movie="video/x-sgi-movie",t.ifm="application/vnd.shana.informed.formdata",t.itp="application/vnd.shana.informed.formtemplate",t.iif="application/vnd.shana.informed.interchange",t.ipk="application/vnd.shana.informed.package",t.tfi="application/thraud+xml",t.shar="application/x-shar",t.rgb="image/x-rgb",t.slt="application/vnd.epson.salt",t.aso="application/vnd.accpac.simply.aso",t.imp="application/vnd.accpac.simply.imp",t.twd="application/vnd.simtech-mindmapper",t.csp="application/vnd.commonspace",t.saf="application/vnd.yamaha.smaf-audio",t.mmf="application/vnd.smaf",t.spf="application/vnd.yamaha.smaf-phrase",t.teacher="application/vnd.smart.teacher",t.svd="application/vnd.svd",t.rq="application/sparql-query",t.srx="application/sparql-results+xml",t.gram="application/srgs",t.grxml="application/srgs+xml",t.ssml="application/ssml+xml",t.skp="application/vnd.koan",t.sgml="text/sgml",t.sdc="application/vnd.stardivision.calc",t.sda="application/vnd.stardivision.draw",t.sdd="application/vnd.stardivision.impress",t.smf="application/vnd.stardivision.math",t.sdw="application/vnd.stardivision.writer",t.sgl="application/vnd.stardivision.writer-global",t.sm="application/vnd.stepmania.stepchart",t.sit="application/x-stuffit",t.sitx="application/x-stuffitx",t.sdkm="application/vnd.solent.sdkm+xml",t.xo="application/vnd.olpc-sugar",t.au="audio/basic",t.wqd="application/vnd.wqd",t.sis="application/vnd.symbian.install",t.smi="application/smil+xml",t.xsm="application/vnd.syncml+xml",t.bdm="application/vnd.syncml.dm+wbxml",t.xdm="application/vnd.syncml.dm+xml",t.sv4cpio="application/x-sv4cpio",t.sv4crc="application/x-sv4crc",t.sbml="application/sbml+xml",t.tsv="text/tab-separated-values",t.tiff="image/tiff",t.tao="application/vnd.tao.intent-module-archive",t.tar="application/x-tar",t.tcl="application/x-tcl",t.tex="application/x-tex",t.tfm="application/x-tex-tfm",t.tei="application/tei+xml",t.txt="text/plain",t.dxp="application/vnd.spotfire.dxp",t.sfs="application/vnd.spotfire.sfs",t.tsd="application/timestamped-data",t.tpt="application/vnd.trid.tpt",t.mxs="application/vnd.triscape.mxs",t.t="text/troff",t.tra="application/vnd.trueapp",t.ttf="application/x-font-ttf",t.ttl="text/turtle",t.umj="application/vnd.umajin",t.uoml="application/vnd.uoml+xml",t.unityweb="application/vnd.unity",t.ufd="application/vnd.ufdl",t.uri="text/uri-list",t.utz="application/vnd.uiq.theme",t.ustar="application/x-ustar",t.uu="text/x-uuencode",t.vcs="text/x-vcalendar",t.vcf="text/x-vcard",t.vcd="application/x-cdlink",t.vsf="application/vnd.vsf",t.wrl="model/vrml",t.vcx="application/vnd.vcx",t.mts="model/vnd.mts",t.vtu="model/vnd.vtu",t.vis="application/vnd.visionary",t.viv="video/vnd.vivo",t.ccxml="application/ccxml+xml,",t.vxml="application/voicexml+xml",t.src="application/x-wais-source",t.wbxml="application/vnd.wap.wbxml",t.wbmp="image/vnd.wap.wbmp",t.wav="audio/x-wav",t.davmount="application/davmount+xml",t.woff="application/x-font-woff",t.wspolicy="application/wspolicy+xml",t.webp="image/webp",t.wtb="application/vnd.webturbo",t.wgt="application/widget",t.hlp="application/winhlp",t.wml="text/vnd.wap.wml",t.wmls="text/vnd.wap.wmlscript",t.wmlsc="application/vnd.wap.wmlscriptc",t.wpd="application/vnd.wordperfect",t.stf="application/vnd.wt.stf",t.wsdl="application/wsdl+xml",t.xbm="image/x-xbitmap",t.xpm="image/x-xpixmap",t.xwd="image/x-xwindowdump",t.der="application/x-x509-ca-cert",t.fig="application/x-xfig",t.xhtml="application/xhtml+xml",t.xml="application/xml",t.xdf="application/xcap-diff+xml",t.xenc="application/xenc+xml",t.xer="application/patch-ops-error+xml",t.rl="application/resource-lists+xml",t.rs="application/rls-services+xml",t.rld="application/resource-lists-diff+xml",t.xslt="application/xslt+xml",t.xop="application/xop+xml",t.xpi="application/x-xpinstall",t.xspf="application/xspf+xml",t.xul="application/vnd.mozilla.xul+xml",t.xyz="chemical/x-xyz",t.yaml="text/yaml",t.yang="application/yang",t.yin="application/yin+xml",t.zir="application/vnd.zul",t.zip="application/zip"}(It||(It={}));class kt{constructor(t){this.renderer=t,this.extensions=["B","KB","MB","GB"],this.sizeRegex=new RegExp(`^(\\d+)(?:\\s{0,1})(${this.extensions.join("|")})?$`,"i")}isFileDragDropAvailable(){const t=this.renderer.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t}parseSize(t){if(wt(t))return 0;if("number"==typeof t)return t;const[,e,i]=t.match(this.sizeRegex)||[null,"0","B"],a=wt(i)?0:this.extensions.indexOf(i.toUpperCase());return parseInt(e,10)*Math.pow(1024,a<0?0:a)}formatSize(t){return this.calculateSize(t)}calculateSize(t,e=0){return isNaN(t)&&(t=0),t<1024?`${Math.round(100*t)/100} ${this.extensions[e]}`:this.calculateSize(t/1024,e+1)}getFileType(t){return Object.keys(It).find(e=>It[e]===t.type)}}kt.\u0275fac=function(t){return new(t||kt)(s["\u0275\u0275inject"](s.Renderer2))},kt.\u0275prov=s["\u0275\u0275defineInjectable"]({token:kt,factory:kt.\u0275fac}),kt.ctorParameters=()=>[{type:s.Renderer2}];const St=Object(U.l)("insertAnimation",[Object(U.k)("* => *",[Object(U.f)(":leave",[Object(U.h)(30,[Object(U.e)(".3s",Object(U.j)({opacity:0}))])],{optional:!0}),Object(U.f)(":enter",[Object(U.j)({opacity:0}),Object(U.h)(30,[Object(U.e)(".3s",Object(U.j)({opacity:1}))])],{optional:!0})])]),Mt=Object(U.l)("zoomAnimation",[Object(U.k)("static => zoomOut",[Object(U.e)(250,Object(U.j)({transform:"translate(-50%, -50%) scale(2, 2)",opacity:0}))]),Object(U.k)("static => zoomIn",[Object(U.f)(":self",[Object(U.j)({transform:"translate(-50%, -50%) scale(.2, .2)",opacity:0,top:"50%",left:"50%",margin:0}),Object(U.h)(50,[Object(U.e)(250,Object(U.j)({transform:"translate(-50%, -50%) scale(1, 1)",opacity:1}))])])])]);class Rt{constructor(t,e,i){this.hostElementRef=t,this.renderer=e,this.cdr=i,this.control=null,this.isMultiple=!0,this.hooks=[],this.subscriptions=[],this.onChange=()=>{}}ngOnInit(){wt(this.control)&&(this.control=new Dt),this.setEvents(),this.checkAndMarkAsDisabled(),this.checkAndSetMultiple(),this.connectToForm()}ngOnDestroy(){this.cdr.detach(),this.hooks.forEach(t=>t()),this.hooks.length=0,this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions.length=0}setEvents(){this.subscriptions.push(this.control.statusChanges.subscribe(t=>this.checkAndMarkAsDisabled())),this.subscriptions.push(this.control.eventsChanges.subscribe(t=>this.triggerEvent(t))),this.subscriptions.push(this.control.acceptChanges.subscribe(t=>this.updateAcceptAttr(t))),this.subscriptions.push(this.control.multipleChanges.subscribe(t=>this.toggleMultiple(t)))}clearInputEl(){this.input.nativeElement.value=null}checkAndSetMultiple(){if(!this.control)return;const t=!(!1===this.isMultiple||"false"===this.isMultiple);t!==this.control.isMultiple&&this.control.multiple(t)}triggerEvent(t){"function"==typeof this.label.nativeElement[t]&&this.label.nativeElement[t]()}updateAcceptAttr(t){wt(t)?this.renderer.removeAttribute(this.input.nativeElement,"accept"):this.renderer.setAttribute(this.input.nativeElement,"accept",t)}checkAndMarkAsDisabled(){this.control.disabled?(this.renderer.addClass(this.hostElementRef.nativeElement,"disabled"),this.renderer.setProperty(this.input.nativeElement,"disabled",!0)):(this.renderer.removeClass(this.hostElementRef.nativeElement,"disabled"),this.renderer.setProperty(this.input.nativeElement,"disabled",!1))}toggleMultiple(t){t?this.renderer.setAttribute(this.input.nativeElement,"multiple",""):this.renderer.removeAttribute(this.input.nativeElement,"multiple")}connectToForm(){this.subscriptions.push(this.control.valueChanges.subscribe(t=>this.onChange(t)))}}Rt.\u0275fac=function(t){return new(t||Rt)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},Rt.\u0275dir=s["\u0275\u0275defineDirective"]({type:Rt}),Rt.ctorParameters=()=>[{type:s.ElementRef},{type:s.Renderer2},{type:s.ChangeDetectorRef}];const Tt="dragover",At="ng-touched";class jt extends Rt{constructor(t,e,i,a,n){super(e,i,n),this.fileUploadService=t,this.document=a,this.control=null,this.animation=!0,this.templateRef=null,this.listItem=null,this.templateContext={$implicit:this.fileUploadService.isFileDragDropAvailable(),isFileDragDropAvailable:this.fileUploadService.isFileDragDropAvailable()},this.zoomText="static",this.listVisible=!1,this.onTouch=()=>{this.renderer.addClass(this.hostElementRef.nativeElement,At)}}set multiple(t){this.isMultiple=t,this.checkAndSetMultiple()}get hasFiles(){return this.control.isListVisible&&this.control.size>0}get isInvalid(){return!this.control.disabled&&this.control.invalid}get isAnimationDisabled(){return!1===this.animation||"false"===this.animation}setEvents(){super.setEvents(),["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach(t=>{this.hooks.push(this.renderer.listen(this.document,t,t=>this.preventDragEvents(t)))}),["dragover","dragenter"].forEach(t=>{this.hooks.push(this.renderer.listen(this.hostElementRef.nativeElement,t,t=>this.onDragOver(t)))}),["dragleave","dragend","drop"].forEach(t=>{this.hooks.push(this.renderer.listen(this.hostElementRef.nativeElement,t,t=>this.onDragLeave(t)))}),this.subscriptions.push(this.control.valueChanges.subscribe(t=>this.renderView())),this.subscriptions.push(this.control.listVisibilityChanges.subscribe(t=>this.toggleListVisibility()))}onKeyDown(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.control.click())}preventDragEvents(t){t.preventDefault(),t.stopPropagation()}renderView(){this.listVisible||(this.zoomText=this.control.isListVisible&&this.control.size>0?"zoomOut":"static"),this.cdr.markForCheck()}showList(){"static"!==this.zoomText&&(this.listVisible=!0)}hideList(){this.listVisible=!1}toggleListVisibility(){this.listVisible=this.control.isListVisible&&this.control.size>0,this.listVisible&&(this.renderer.addClass(this.hostElementRef.nativeElement,"list-visible"),this.zoomText="static"),this.cdr.markForCheck()}onDragOver(t){this.renderer.addClass(this.hostElementRef.nativeElement,Tt)}onDragLeave(t){this.renderer.removeClass(this.hostElementRef.nativeElement,Tt)}onDrop(t){if(this.control.disabled)return;const e=t.dataTransfer.files;this.control.addFiles(e),this.onTouch()}onInputChange(t){const e=t.target;!this.control.disabled&&e.files.length>0&&(this.control.addFiles(e.files),this.clearInputEl()),this.onTouch()}writeValue(t){null!=t&&this.control.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.control.disable(t)}zoomAnimationDone(t){this.control.isListVisible&&this.control.size>0?this.showList():this.hideList(),"static"===t.fromState&&"zoomOut"===t.toState?this.renderer.addClass(this.hostElementRef.nativeElement,"hide-text"):this.renderer.removeClass(this.hostElementRef.nativeElement,"hide-text"),"zoomIn"===t.toState&&(this.zoomText="static")}animationListFinished(t){"void"===t.toState&&(this.zoomText="zoomIn",this.renderer.removeClass(this.hostElementRef.nativeElement,"list-visible")),"void"===t.fromState&&(this.zoomText="static",this.renderer.addClass(this.hostElementRef.nativeElement,"list-visible"))}}jt.\u0275fac=function(t){return new(t||jt)(s["\u0275\u0275directiveInject"](kt),s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](o.DOCUMENT),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},jt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:jt,selectors:[["file-upload",3,"simple",""]],contentQueries:function(t,e,i){if(1&t&&(s["\u0275\u0275contentQuery"](i,q,1),s["\u0275\u0275contentQuery"](i,B,1)),2&t){let t;s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.templateRef=t.first),s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.listItem=t.first)}},viewQuery:function(t,e){if(1&t&&(s["\u0275\u0275viewQuery"]($,3),s["\u0275\u0275viewQuery"](H,3)),2&t){let t;s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.input=t.first),s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.label=t.first)}},hostVars:5,hostBindings:function(t,e){1&t&&s["\u0275\u0275listener"]("drop",function(t){return e.onDrop(t)}),2&t&&(s["\u0275\u0275syntheticHostProperty"]("@.disabled",e.isAnimationDisabled),s["\u0275\u0275classProp"]("has-files",e.hasFiles)("ng-invalid",e.isInvalid))},inputs:{control:"control",animation:"animation",multiple:"multiple"},features:[s["\u0275\u0275ProvidersFeature"]([kt,{provide:v.e,useExisting:Object(s.forwardRef)(()=>jt),multi:!0}]),s["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:6,consts:[["tabindex","0",1,"upload-input",3,"keydown"],["labelRef",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultTemplate",""],["type","file","tabindex","-1","multiple","",1,"files-input",3,"change"],["inputRef",""],["class","upload-list",4,"ngIf"],[4,"ngIf","ngIfElse"],["isNotDragDropAvailable",""],[1,"upload-list"],["ngFor","",3,"ngForOf"],["defaultItemTemplate",""],[3,"index","file","control"]],template:function(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"label",0,1),s["\u0275\u0275listener"]("keydown",function(t){return e.onKeyDown(t)})("@zoomAnimation.done",function(t){return e.zoomAnimationDone(t)}),s["\u0275\u0275template"](2,Q,1,0,"ng-container",2),s["\u0275\u0275template"](3,J,4,2,"ng-template",null,3,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementStart"](5,"input",4,5),s["\u0275\u0275listener"]("change",function(t){return e.onInputChange(t)}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,tt,5,4,"div",6),s["\u0275\u0275pipe"](8,"async")),2&t){const t=s["\u0275\u0275reference"](4);s["\u0275\u0275property"]("@zoomAnimation",e.zoomText),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngTemplateOutlet",e.templateRef?e.templateRef:t)("ngTemplateOutletContext",e.templateContext),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](8,4,e.control.listVisibilityChanges)&&e.control.size>0&&e.listVisible)}},directives:function(){return[o.NgTemplateOutlet,o.NgIf,zt,o.NgForOf,Pt]},pipes:function(){return[o.AsyncPipe]},styles:['@charset "UTF-8";[_nghost-%COMP%], [_nghost-%COMP%] > *[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background:#fafafa;display:block;min-height:140px;outline:1px dashed #92b0b3;outline-offset:-10px;overflow:hidden;padding:20px 66px 20px 20px;position:relative}[_nghost-%COMP%]     .icon{float:left}.dragover[_nghost-%COMP%]{outline-width:2px}.disabled[_nghost-%COMP%]{cursor:no-drop;opacity:.5}.files-input[_ngcontent-%COMP%]{height:.1px;left:-100%;opacity:0;overflow:hidden;position:absolute;top:-100%;width:.1px}.upload-input[_ngcontent-%COMP%]:after{clear:both;content:"\xa0";display:block;height:0;line-height:0;visibility:hidden;zoom:1}.upload-input[_ngcontent-%COMP%]{-ms-transform:translate(-50%,-50%);color:#646464;cursor:pointer;display:inline-block;left:50%;margin:0;outline:none;position:absolute;top:50%;transform:translate(-50%,-50%)}.disabled[_nghost-%COMP%]   .upload-input[_ngcontent-%COMP%]{cursor:not-allowed}.list-visible[_nghost-%COMP%]   .upload-input[_ngcontent-%COMP%]{-ms-transform:translate(-100%);left:100%;margin-left:-20px;text-align:center;top:20px;transform:translate(-100%)}.hide-text[_nghost-%COMP%]   .upload-input[_ngcontent-%COMP%]{opacity:0}.dragover[_nghost-%COMP%]:not(.disabled)   .upload-input[_ngcontent-%COMP%], [_nghost-%COMP%]:not(.disabled)   .upload-input[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]:not(.disabled)   .upload-input[_ngcontent-%COMP%]:hover{color:#80a9d2}.dragover[_nghost-%COMP%]:not(.disabled)   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], [_nghost-%COMP%]:not(.disabled)   .upload-input[_ngcontent-%COMP%]:focus   svg[_ngcontent-%COMP%], [_nghost-%COMP%]:not(.disabled)   .upload-input[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#80a9d2}file-upload-list-item[_ngcontent-%COMP%]{padding:10px 0 0}file-upload-list-item[_ngcontent-%COMP%]:first-child{padding:0}'],data:{animation:[Mt,St]},changeDetection:0}),jt.ctorParameters=()=>[{type:kt},{type:s.ElementRef},{type:s.Renderer2},{type:void 0,decorators:[{type:s.Inject,args:[o.DOCUMENT]}]},{type:s.ChangeDetectorRef}],jt.propDecorators={control:[{type:s.Input}],animation:[{type:s.Input}],multiple:[{type:s.Input,args:["multiple"]}],templateRef:[{type:s.ContentChild,args:["placeholder"]}],listItem:[{type:s.ContentChild,args:["item"]}],input:[{type:s.ViewChild,args:["inputRef",{static:!0}]}],label:[{type:s.ViewChild,args:["labelRef",{static:!0}]}],hasFiles:[{type:s.HostBinding,args:["class.has-files"]}],isInvalid:[{type:s.HostBinding,args:["class.ng-invalid"]}],isAnimationDisabled:[{type:s.HostBinding,args:["@.disabled"]}],onDrop:[{type:s.HostListener,args:["drop",["$event"]]}]};class zt{}zt.\u0275fac=function(t){return new(t||zt)},zt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:zt,selectors:[["file-upload-drop-zone"]],ngContentSelectors:et,decls:6,vars:0,consts:[[1,"icon"],["viewBox","0 0 96 96"],["d","M62.8,68.1c0-0.6-0.2-1.1-0.6-1.5c-0.4-0.4-0.9-0.6-1.5-0.6s-1.1,0.2-1.5,0.6\n                c-0.4,0.4-0.6,0.9-0.6,1.5c0,0.6,0.2,1.1,0.6,1.5c0.4,0.4,0.9,0.6,1.5,0.6s1.1-0.2,1.5-0.6S62.8,68.7,62.8,68.1z M71.3,68.1\n                c0-0.6-0.2-1.1-0.6-1.5c-0.4-0.4-0.9-0.6-1.5-0.6c-0.6,0-1.1,0.2-1.5,0.6C67.2,67,67,67.5,67,68.1c0,0.6,0.2,1.1,0.6,1.5\n                s0.9,0.6,1.5,0.6c0.6,0,1.1-0.2,1.5-0.6C71.1,69.2,71.3,68.7,71.3,68.1z M75.5,60.7v10.6c0,0.9-0.3,1.6-0.9,2.2\n                c-0.6,0.6-1.4,0.9-2.2,0.9H23.7c-0.9,0-1.6-0.3-2.2-0.9c-0.6-0.6-0.9-1.4-0.9-2.2V60.7c0-0.9,0.3-1.6,0.9-2.2\n                c0.6-0.6,1.4-0.9,2.2-0.9h14.1c0.5,1.2,1.2,2.2,2.3,3c1.1,0.8,2.3,1.2,3.7,1.2h8.5c1.3,0,2.6-0.4,3.7-1.2c1.1-0.8,1.9-1.8,2.3-3\n                h14.1c0.9,0,1.6,0.3,2.2,0.9C75.2,59.1,75.5,59.8,75.5,60.7z M64.8,39.3c-0.4,0.9-1,1.3-2,1.3h-8.5v14.8c0,0.6-0.2,1.1-0.6,1.5\n                c-0.4,0.4-0.9,0.6-1.5,0.6h-8.5c-0.6,0-1.1-0.2-1.5-0.6c-0.4-0.4-0.6-0.9-0.6-1.5V40.6h-8.5c-0.9,0-1.6-0.4-2-1.3\n                c-0.4-0.9-0.2-1.6,0.5-2.3l14.8-14.8c0.4-0.4,0.9-0.6,1.5-0.6s1.1,0.2,1.5,0.6L64.3,37C65,37.7,65.1,38.4,64.8,39.3z"],[1,"upload-text"]],template:function(t,e){1&t&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275namespaceSVG"](),s["\u0275\u0275elementStart"](1,"svg",1),s["\u0275\u0275elementStart"](2,"g"),s["\u0275\u0275element"](3,"path",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275namespaceHTML"](),s["\u0275\u0275elementStart"](4,"div",3),s["\u0275\u0275projection"](5),s["\u0275\u0275elementEnd"]())},styles:["[_nghost-%COMP%]{display:block}.icon[_ngcontent-%COMP%]{border:1px solid #eaeaea;border-radius:4px;height:35px;width:35px}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#909293}.upload-text[_ngcontent-%COMP%]{overflow:hidden;padding-left:20px;position:relative;width:auto}.list-visible[_nghost-%COMP%]   .upload-text[_ngcontent-%COMP%], .list-visible   [_nghost-%COMP%]   .upload-text[_ngcontent-%COMP%]{display:none}"],changeDetection:0});class Pt{constructor(t){this.fileUploadService=t}removeFile(t){this.control.removeFile(t)}calculateSize(t){return this.fileUploadService.formatSize(t)}}Pt.\u0275fac=function(t){return new(t||Pt)(s["\u0275\u0275directiveInject"](kt))},Pt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Pt,selectors:[["file-upload-list-item"]],inputs:{index:"index",file:"file",control:"control"},ngContentSelectors:et,decls:11,vars:3,consts:[[3,"file"],[1,"file-info"],[1,"file-name"],[1,"file-buttons"],[1,"remove-btn",3,"click"],["viewBox","0 0 96 96"],["d","M40.5,66.8V39.3c0-0.4-0.1-0.7-0.4-0.9S39.6,38,39.3,38h-2.5c-0.4,0-0.7,0.1-0.9,0.4\n                    s-0.4,0.5-0.4,0.9v27.5c0,0.4,0.1,0.7,0.4,0.9s0.5,0.4,0.9,0.4h2.5c0.4,0,0.7-0.1,0.9-0.4S40.5,67.1,40.5,66.8z M50.5,66.8V39.3\n                    c0-0.4-0.1-0.7-0.4-0.9S49.6,38,49.3,38h-2.5c-0.4,0-0.7,0.1-0.9,0.4s-0.4,0.5-0.4,0.9v27.5c0,0.4,0.1,0.7,0.4,0.9s0.5,0.4,0.9,0.4\n                    h2.5c0.4,0,0.7-0.1,0.9-0.4S50.5,67.1,50.5,66.8z M60.5,66.8V39.3c0-0.4-0.1-0.7-0.4-0.9S59.6,38,59.3,38h-2.5\n                    c-0.4,0-0.7,0.1-0.9,0.4s-0.4,0.5-0.4,0.9v27.5c0,0.4,0.1,0.7,0.4,0.9s0.5,0.4,0.9,0.4h2.5c0.4,0,0.7-0.1,0.9-0.4\n                    S60.5,67.1,60.5,66.8z M39.3,28h17.5l-1.9-4.6c-0.2-0.2-0.4-0.4-0.7-0.4H41.8c-0.3,0.1-0.5,0.2-0.7,0.4L39.3,28z M75.5,29.3v2.5\n                    c0,0.4-0.1,0.7-0.4,0.9S74.6,33,74.3,33h-3.8v37c0,2.2-0.6,4-1.8,5.6S66,78,64.3,78H31.8c-1.7,0-3.2-0.8-4.4-2.3s-1.8-3.4-1.8-5.5\n                    V33h-3.8c-0.4,0-0.7-0.1-0.9-0.4s-0.4-0.5-0.4-0.9v-2.5c0-0.4,0.1-0.7,0.4-0.9s0.5-0.4,0.9-0.4h12.1l2.7-6.5c0.4-1,1.1-1.8,2.1-2.5\n                    s2-1,3.1-1h12.5c1,0,2.1,0.3,3.1,1s1.7,1.5,2.1,2.5l2.7,6.5h12.1c0.4,0,0.7,0.1,0.9,0.4S75.5,28.9,75.5,29.3z"]],template:function(t,e){1&t&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275element"](0,"file-upload-icon",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"span",2),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",3),s["\u0275\u0275elementStart"](6,"span",4),s["\u0275\u0275listener"]("click",function(){return e.removeFile(e.file)}),s["\u0275\u0275namespaceSVG"](),s["\u0275\u0275elementStart"](7,"svg",5),s["\u0275\u0275elementStart"](8,"g"),s["\u0275\u0275element"](9,"path",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275projection"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275property"]("file",e.file),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](e.file.name),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" (",e.calculateSize(e.file.size),") "))},directives:function(){return[Nt]},styles:['@charset "UTF-8";[_nghost-%COMP%]{color:#646464;display:block;font-size:14px}[_nghost-%COMP%]:after{clear:both;content:"\xa0";display:block;height:0;line-height:0;visibility:hidden;zoom:1}file-upload-icon[_ngcontent-%COMP%]{float:left;height:36px;margin:0 10px 0 0;width:30px}.file-info[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.remove-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}.remove-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:inline-block;height:18px;vertical-align:-20%;width:18px}']}),Pt.ctorParameters=()=>[{type:kt}],Pt.propDecorators={index:[{type:s.Input}],file:[{type:s.Input}],control:[{type:s.Input}]};class Nt{constructor(t){this.fileUploadService=t,this.fileType="unknown"}ngOnInit(){this.fileType=this.fileUploadService.getFileType(this.file)}isIcon(t){switch(t){case"text":return"html"===this.fileType||"css"===this.fileType||"csv"===this.fileType||"js"===this.fileType||"pdf"===this.fileType||"ppt"===this.fileType||"xls"===this.fileType||"xlsx"===this.fileType||"xml"===this.fileType||"doc"===this.fileType||"txt"===this.fileType||"docx"===this.fileType;case"audio":return"aac"===this.fileType||"midi"===this.fileType||"oga"===this.fileType||"wav"===this.fileType||"weba"===this.fileType;case"image":return"png"===this.fileType||"bmp"===this.fileType||"gif"===this.fileType||"jpg"===this.fileType||"svg"===this.fileType||"webp"===this.fileType||"ico"===this.fileType;case"video":return"avi"===this.fileType||"mpeg"===this.fileType||"ogv"===this.fileType||"webm"===this.fileType||"3gp"===this.fileType||"3g2"===this.fileType}}}Nt.\u0275fac=function(t){return new(t||Nt)(s["\u0275\u0275directiveInject"](kt))},Nt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Nt,selectors:[["file-upload-icon"]],inputs:{file:"file"},decls:6,vars:5,consts:[[3,"ngSwitch"],["viewBox","0 0 96 96",4,"ngSwitchDefault"],["viewBox","0 0 96 96",4,"ngSwitchCase"],["viewBox","0 0 96 96"],["d","M71.4,30.7c0.6,0.6,1.2,1.5,1.6,2.5c0.4,1.1,0.7,2.1,0.7,2.9v38.6c0,0.9-0.3,1.7-0.9,2.3\n                S71.4,78,70.5,78h-45c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V21.2c0-0.9,0.3-1.7,0.9-2.3c0.6-0.6,1.4-0.9,2.3-0.9h30\n                c0.9,0,1.9,0.2,2.9,0.7c1.1,0.4,1.9,1,2.5,1.6L71.4,30.7z M56.6,22.6v12.6h12.6c-0.2-0.6-0.5-1.1-0.7-1.4L57.9,23.3\n                C57.7,23,57.2,22.8,56.6,22.6z M69.4,73.7V39.4H55.5c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V22.3H26.6v51.4H69.4z"],["d","M71.4,30.7c0.6,0.6,1.2,1.5,1.6,2.5c0.4,1.1,0.7,2.1,0.7,2.9v38.6c0,0.9-0.3,1.7-0.9,2.3\n                S71.4,78,70.5,78h-45c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V21.2c0-0.9,0.3-1.7,0.9-2.3c0.6-0.6,1.4-0.9,2.3-0.9h30\n                c0.9,0,1.9,0.2,2.9,0.7c1.1,0.4,1.9,1,2.5,1.6L71.4,30.7z M56.6,22.6v12.6h12.6c-0.2-0.6-0.5-1.1-0.7-1.4L57.9,23.3\n                C57.7,23,57.2,22.8,56.6,22.6z M69.4,73.7V39.4H55.5c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V22.3H26.6v51.4H69.4z\n                M65.1,58.7v10.7H30.9V63l6.4-6.4l4.3,4.3L54.4,48L65.1,58.7z M37.3,52.3c-1.8,0-3.3-0.6-4.6-1.9c-1.3-1.2-1.9-2.8-1.9-4.6\n                c0-1.8,0.6-3.3,1.9-4.6c1.3-1.2,2.8-1.9,4.6-1.9s3.3,0.6,4.6,1.9c1.3,1.3,1.9,2.8,1.9,4.6c0,1.8-0.6,3.3-1.9,4.6\n                C40.6,51.7,39.1,52.3,37.3,52.3z"],["d","M71.4,30.7c0.6,0.6,1.2,1.5,1.6,2.5c0.4,1.1,0.7,2.1,0.7,2.9v38.6c0,0.9-0.3,1.7-0.9,2.3\n                S71.4,78,70.5,78h-45c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V21.2c0-0.9,0.3-1.7,0.9-2.3c0.6-0.6,1.4-0.9,2.3-0.9h30\n                c0.9,0,1.9,0.2,2.9,0.7c1.1,0.4,1.9,1,2.5,1.6L71.4,30.7z M56.6,22.6v12.6h12.6c-0.2-0.6-0.5-1.1-0.7-1.4L57.9,23.3\n                C57.7,23,57.2,22.8,56.6,22.6z M69.4,73.7V39.4H55.5c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V22.3H26.6v51.4H69.4z\n                M43,46.5c0.4,0.2,0.7,0.5,0.7,1v18.2c0,0.5-0.2,0.8-0.7,1c-0.2,0-0.3,0.1-0.4,0.1c-0.3,0-0.5-0.1-0.8-0.3l-5.6-5.6h-4.4\n                c-0.3,0-0.6-0.1-0.8-0.3c-0.2-0.2-0.3-0.5-0.3-0.8v-6.4c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3h4.4l5.6-5.6\n                C42.2,46.4,42.6,46.3,43,46.5z M57,69.5c0.7,0,1.3-0.3,1.7-0.8c2.9-3.5,4.3-7.6,4.3-12.2s-1.4-8.6-4.3-12.2\n                c-0.4-0.5-0.8-0.7-1.4-0.8c-0.6-0.1-1.1,0.1-1.6,0.5c-0.5,0.4-0.7,0.9-0.8,1.5c-0.1,0.6,0.1,1.1,0.5,1.6c2.2,2.7,3.3,5.9,3.3,9.4\n                c0,3.5-1.1,6.7-3.3,9.4c-0.4,0.5-0.5,1-0.5,1.6c0.1,0.6,0.3,1.1,0.8,1.4C56.1,69.4,56.5,69.5,57,69.5z M49.9,64.6\n                c0.6,0,1.1-0.2,1.6-0.7c1.9-2.1,2.9-4.5,2.9-7.3s-1-5.3-2.9-7.3c-0.4-0.4-0.9-0.6-1.5-0.7c-0.6,0-1.1,0.2-1.5,0.6s-0.6,0.9-0.7,1.5\n                c0,0.6,0.2,1.1,0.6,1.6c1.2,1.3,1.7,2.7,1.7,4.4c0,1.7-0.6,3.1-1.7,4.4c-0.4,0.4-0.6,1-0.6,1.6c0,0.6,0.2,1.1,0.7,1.5\n                C48.9,64.4,49.4,64.6,49.9,64.6z"],["d","M71.4,30.7c0.6,0.6,1.2,1.5,1.6,2.5c0.4,1.1,0.7,2.1,0.7,2.9v38.6c0,0.9-0.3,1.7-0.9,2.3\n                S71.4,78,70.5,78h-45c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V21.2c0-0.9,0.3-1.7,0.9-2.3c0.6-0.6,1.4-0.9,2.3-0.9h30\n                c0.9,0,1.9,0.2,2.9,0.7c1.1,0.4,1.9,1,2.5,1.6L71.4,30.7z M56.6,22.6v12.6h12.6c-0.2-0.6-0.5-1.1-0.7-1.4L57.9,23.3\n                C57.7,23,57.2,22.8,56.6,22.6z M69.4,73.7V39.4H55.5c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V22.3H26.6v51.4H69.4z\n                M35.1,44.8c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3h23.6c0.3,0,0.6,0.1,0.8,0.3c0.2,0.2,0.3,0.5,0.3,0.8v2.1\n                c0,0.3-0.1,0.6-0.3,0.8c-0.2,0.2-0.5,0.3-0.8,0.3H36.2c-0.3,0-0.6-0.1-0.8-0.3c-0.2-0.2-0.3-0.5-0.3-0.8V44.8z M59.8,52.3\n                c0.3,0,0.6,0.1,0.8,0.3c0.2,0.2,0.3,0.5,0.3,0.8v2.1c0,0.3-0.1,0.6-0.3,0.8c-0.2,0.2-0.5,0.3-0.8,0.3H36.2c-0.3,0-0.6-0.1-0.8-0.3\n                c-0.2-0.2-0.3-0.5-0.3-0.8v-2.1c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3H59.8z M59.8,60.9c0.3,0,0.6,0.1,0.8,0.3\n                c0.2,0.2,0.3,0.5,0.3,0.8v2.1c0,0.3-0.1,0.6-0.3,0.8c-0.2,0.2-0.5,0.3-0.8,0.3H36.2c-0.3,0-0.6-0.1-0.8-0.3\n                c-0.2-0.2-0.3-0.5-0.3-0.8v-2.1c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3H59.8z"],["d","M71.4,30.7c0.6,0.6,1.2,1.5,1.6,2.5c0.4,1.1,0.7,2.1,0.7,2.9v38.6c0,0.9-0.3,1.7-0.9,2.3\n                S71.4,78,70.5,78h-45c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V21.2c0-0.9,0.3-1.7,0.9-2.3c0.6-0.6,1.4-0.9,2.3-0.9h30\n                c0.9,0,1.9,0.2,2.9,0.7c1.1,0.4,1.9,1,2.5,1.6L71.4,30.7z M56.6,22.6v12.6h12.6c-0.2-0.6-0.5-1.1-0.7-1.4L57.9,23.3\n                C57.7,23,57.2,22.8,56.6,22.6z M69.4,73.7V39.4H55.5c-0.9,0-1.7-0.3-2.3-0.9c-0.6-0.6-0.9-1.4-0.9-2.3V22.3H26.6v51.4H69.4z\n                M48,43.7c1.2,0,2.2,0.4,3,1.3c0.8,0.8,1.3,1.9,1.3,3v12.9c0,1.2-0.4,2.2-1.3,3c-0.8,0.8-1.9,1.3-3,1.3H35.1c-1.2,0-2.2-0.4-3-1.3\n                c-0.8-0.8-1.3-1.9-1.3-3V48c0-1.2,0.4-2.2,1.3-3c0.8-0.8,1.9-1.3,3-1.3H48z M64.5,43.8c0.4,0.2,0.7,0.5,0.7,1v19.3\n                c0,0.5-0.2,0.8-0.7,1c-0.2,0-0.3,0.1-0.4,0.1c-0.3,0-0.6-0.1-0.8-0.3l-8.9-8.9v-3l8.9-8.9c0.2-0.2,0.5-0.3,0.8-0.3\n                C64.2,43.7,64.3,43.7,64.5,43.8z"]],template:function(t,e){1&t&&(s["\u0275\u0275elementContainerStart"](0,0),s["\u0275\u0275template"](1,it,3,0,"svg",1),s["\u0275\u0275template"](2,at,3,0,"svg",2),s["\u0275\u0275template"](3,nt,3,0,"svg",2),s["\u0275\u0275template"](4,st,3,0,"svg",2),s["\u0275\u0275template"](5,ot,3,0,"svg",2),s["\u0275\u0275elementContainerEnd"]()),2&t&&(s["\u0275\u0275property"]("ngSwitch",!0),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngSwitchCase",e.isIcon("image")),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase",e.isIcon("audio")),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase",e.isIcon("text")),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase",e.isIcon("video")))},directives:[o.NgSwitch,o.NgSwitchDefault,o.NgSwitchCase],styles:["[_nghost-%COMP%]{border:1px solid #eaeaea;border-radius:4px;display:block}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{fill:#909293}"],changeDetection:0}),Nt.ctorParameters=()=>[{type:kt}],Nt.propDecorators={file:[{type:s.Input}]};class _t{constructor(t,e,i,a){this.fileUploadService=t,this.hostElementRef=e,this.renderer=i,this.document=a,this.control=null,this.templateRef=null,this.hooks=[],this.subscriptions=[],this.onTouch=()=>{this.renderer.addClass(this.hostElementRef.nativeElement,At)}}ngOnInit(){wt(this.control)&&(this.control=new Dt)}ngAfterViewInit(){this.fileUploadService.isFileDragDropAvailable()&&(this.setEvents(),this.checkAndMarkAsDisabled())}ngOnDestroy(){this.hooks.forEach(t=>t()),this.hooks.length=0,this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions.length=0}get hasFiles(){return this.control.isListVisible&&this.control.size>0}get isInvalid(){return!this.control.disabled&&this.control.invalid}setEvents(){["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach(t=>{this.hooks.push(this.renderer.listen(this.document,t,t=>this.preventDragEvents(t)))}),["dragover","dragenter"].forEach(t=>{this.hooks.push(this.renderer.listen(this.hostElementRef.nativeElement,t,t=>this.onDragOver(t)))}),["dragleave","dragend","drop"].forEach(t=>{this.hooks.push(this.renderer.listen(this.hostElementRef.nativeElement,t,e=>{(this.control.disabled&&"dragleave"===t||"dragleave"!==t)&&this.onDragLeave(e)}))}),["dragleave"].forEach(t=>{this.hooks.push(this.renderer.listen(this.overlay.nativeElement,t,t=>this.onDragLeave(t)))}),this.subscriptions.push(this.control.statusChanges.subscribe(t=>this.checkAndMarkAsDisabled()))}checkAndMarkAsDisabled(){this.control.disabled?this.renderer.addClass(this.hostElementRef.nativeElement,"disabled"):this.renderer.removeClass(this.hostElementRef.nativeElement,"disabled")}preventDragEvents(t){t.preventDefault(),t.stopPropagation()}onDragOver(t){this.renderer.addClass(this.hostElementRef.nativeElement,Tt)}onDragLeave(t){this.renderer.removeClass(this.hostElementRef.nativeElement,Tt)}onDrop(t){if(this.control.disabled)return;const e=t.dataTransfer.files;this.control.addFiles(e),this.onTouch()}}_t.\u0275fac=function(t){return new(t||_t)(s["\u0275\u0275directiveInject"](kt),s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](o.DOCUMENT))},_t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:_t,selectors:[["","file-drop-zone",""]],contentQueries:function(t,e,i){if(1&t&&s["\u0275\u0275contentQuery"](i,q,1),2&t){let t;s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.templateRef=t.first)}},viewQuery:function(t,e){if(1&t&&s["\u0275\u0275viewQuery"](lt,1),2&t){let t;s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.overlay=t.first)}},hostVars:4,hostBindings:function(t,e){1&t&&s["\u0275\u0275listener"]("drop",function(t){return e.onDrop(t)}),2&t&&s["\u0275\u0275classProp"]("has-files",e.hasFiles)("ng-invalid",e.isInvalid)},inputs:{control:"control"},features:[s["\u0275\u0275ProvidersFeature"]([kt])],attrs:["file-drop-zone",""],ngContentSelectors:et,decls:2,vars:1,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["overlay",""],[1,"upload-input"],[4,"ngTemplateOutlet"],["defaultTemplate",""]],template:function(t,e){1&t&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275projection"](0),s["\u0275\u0275template"](1,ct,6,1,"div",0)),2&t&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.fileUploadService.isFileDragDropAvailable()))},directives:[o.NgIf,o.NgTemplateOutlet,zt],styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.8);bottom:0;display:none;left:0;outline:2px dashed #92b0b3;outline-offset:-10px;position:absolute;right:0;top:0}.dragover[_nghost-%COMP%]:not(.disabled)   .overlay[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]     .icon{margin:0 auto 10px}[_nghost-%COMP%]     .icon svg{fill:#80a9d2}.upload-input[_ngcontent-%COMP%]{-ms-transform:translate(-50%,-50%);color:#80a9d2;cursor:pointer;display:inline-block;left:50%;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);transition:all .15s ease-in-out}"]}),_t.ctorParameters=()=>[{type:kt},{type:s.ElementRef},{type:s.Renderer2},{type:void 0,decorators:[{type:s.Inject,args:[o.DOCUMENT]}]}],_t.propDecorators={control:[{type:s.Input}],overlay:[{type:s.ViewChild,args:["overlay"]}],templateRef:[{type:s.ContentChild,args:["placeholder"]}],hasFiles:[{type:s.HostBinding,args:["class.has-files"]}],isInvalid:[{type:s.HostBinding,args:["class.ng-invalid"]}],onDrop:[{type:s.HostListener,args:["drop",["$event"]]}]};class Ft extends Rt{constructor(t,e,i,a){super(e,i,a),this.fileUploadService=t,this.control=null,this.buttonRef=null,this.placeholderRef=null,this.isMultiple=!1,this.onTouch=()=>{this.renderer.addClass(this.hostElementRef.nativeElement,At)}}get hasFiles(){return this.control.isListVisible&&this.control.size>0}get isInvalid(){return!this.control.disabled&&this.control.invalid}onInputChange(t){const e=t.target;!this.control.disabled&&e.files.length>0&&(this.control.setValue(Array.from(e.files)),this.clearInputEl()),this.onTouch()}writeValue(t){null!=t&&this.control.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.control.disable(t)}onKeyDown(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.control.click())}}Ft.\u0275fac=function(t){return new(t||Ft)(s["\u0275\u0275directiveInject"](kt),s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](s.Renderer2),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},Ft.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ft,selectors:[["file-upload","simple",""]],contentQueries:function(t,e,i){if(1&t&&(s["\u0275\u0275contentQuery"](i,dt,1),s["\u0275\u0275contentQuery"](i,q,1)),2&t){let t;s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.buttonRef=t.first),s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.placeholderRef=t.first)}},viewQuery:function(t,e){if(1&t&&(s["\u0275\u0275viewQuery"]($,3),s["\u0275\u0275viewQuery"](H,3)),2&t){let t;s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.input=t.first),s["\u0275\u0275queryRefresh"](t=s["\u0275\u0275loadQuery"]())&&(e.label=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&s["\u0275\u0275classProp"]("has-files",e.hasFiles)("ng-invalid",e.isInvalid)},inputs:{control:"control"},features:[s["\u0275\u0275ProvidersFeature"]([kt,{provide:v.e,useExisting:Object(s.forwardRef)(()=>Ft),multi:!0}]),s["\u0275\u0275InheritDefinitionFeature"]],attrs:["simple",""],decls:12,vars:7,consts:[[1,"upload-text"],[3,"ngIf"],["defaultPlaceholderTemplate",""],["tabindex","0",1,"upload-button",3,"keydown"],["labelRef",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultButtonTemplate",""],["type","file","tabindex","-1",1,"files-input",3,"change"],["inputRef",""],["class","file-name",4,"ngIf","ngIfElse"],["emptyList",""],[1,"file-name"],[1,"button"],[1,"icon"],["viewBox","0 0 96 96"],["d","M62.8,68.1c0-0.6-0.2-1.1-0.6-1.5c-0.4-0.4-0.9-0.6-1.5-0.6s-1.1,0.2-1.5,0.6\n                            c-0.4,0.4-0.6,0.9-0.6,1.5c0,0.6,0.2,1.1,0.6,1.5c0.4,0.4,0.9,0.6,1.5,0.6s1.1-0.2,1.5-0.6S62.8,68.7,62.8,68.1z M71.3,68.1\n                            c0-0.6-0.2-1.1-0.6-1.5c-0.4-0.4-0.9-0.6-1.5-0.6c-0.6,0-1.1,0.2-1.5,0.6C67.2,67,67,67.5,67,68.1c0,0.6,0.2,1.1,0.6,1.5\n                            s0.9,0.6,1.5,0.6c0.6,0,1.1-0.2,1.5-0.6C71.1,69.2,71.3,68.7,71.3,68.1z M75.5,60.7v10.6c0,0.9-0.3,1.6-0.9,2.2\n                            c-0.6,0.6-1.4,0.9-2.2,0.9H23.7c-0.9,0-1.6-0.3-2.2-0.9c-0.6-0.6-0.9-1.4-0.9-2.2V60.7c0-0.9,0.3-1.6,0.9-2.2\n                            c0.6-0.6,1.4-0.9,2.2-0.9h14.1c0.5,1.2,1.2,2.2,2.3,3c1.1,0.8,2.3,1.2,3.7,1.2h8.5c1.3,0,2.6-0.4,3.7-1.2c1.1-0.8,1.9-1.8,2.3-3\n                            h14.1c0.9,0,1.6,0.3,2.2,0.9C75.2,59.1,75.5,59.8,75.5,60.7z M64.8,39.3c-0.4,0.9-1,1.3-2,1.3h-8.5v14.8c0,0.6-0.2,1.1-0.6,1.5\n                            c-0.4,0.4-0.9,0.6-1.5,0.6h-8.5c-0.6,0-1.1-0.2-1.5-0.6c-0.4-0.4-0.6-0.9-0.6-1.5V40.6h-8.5c-0.9,0-1.6-0.4-2-1.3\n                            c-0.4-0.9-0.2-1.6,0.5-2.3l14.8-14.8c0.4-0.4,0.9-0.6,1.5-0.6s1.1,0.2,1.5,0.6L64.3,37C65,37.7,65.1,38.4,64.8,39.3z"],[1,"button-text"]],template:function(t,e){if(1&t&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275template"](1,ut,1,6,"ng-template",1),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275template"](3,gt,3,2,"ng-template",null,2,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"label",3,4),s["\u0275\u0275listener"]("keydown",function(t){return e.onKeyDown(t)}),s["\u0275\u0275template"](7,bt,1,0,"ng-container",5),s["\u0275\u0275template"](8,xt,7,0,"ng-template",null,6,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementStart"](10,"input",7,8),s["\u0275\u0275listener"]("change",function(t){return e.onInputChange(t)}),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&t){const t=s["\u0275\u0275reference"](9);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](2,3,e.control.valueChanges)),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngTemplateOutlet",e.buttonRef?e.buttonRef:t)("ngTemplateOutletContext",s["\u0275\u0275pureFunction1"](5,yt,e.control))}},directives:[o.NgIf,o.NgTemplateOutlet],pipes:[o.AsyncPipe],styles:["[_nghost-%COMP%], [_nghost-%COMP%] > *[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:inset 0 4px 7px rgba(0,0,0,.05);color:#555;display:-ms-flexbox;display:flex;line-height:1.5}.disabled[_nghost-%COMP%]{opacity:.5}.files-input[_ngcontent-%COMP%]{height:.1px;left:-100%;opacity:0;overflow:hidden;position:absolute;top:-100%;width:.1px}.icon[_ngcontent-%COMP%]{display:inline-block;height:24px;width:24px}.icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#555}.upload-button[_ngcontent-%COMP%]{background-color:#eee;border-left:1px solid #ddd;border-radius:0 4px 4px 0;color:#555;cursor:pointer;display:block;margin:0;min-width:100px;outline:none;padding:2px 4px;position:relative}.upload-text[_ngcontent-%COMP%]{display:block;font-size:14px;height:30px;overflow:hidden;padding:5px 10px;text-overflow:ellipsis;white-space:nowrap;width:100%}.button-text[_ngcontent-%COMP%]{padding-left:10px;vertical-align:middle}.disabled[_nghost-%COMP%]   .upload-button[_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]:not(.disabled)   .upload-button[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]:not(.disabled)   .upload-button[_ngcontent-%COMP%]:hover{color:#80a9d2}[_nghost-%COMP%]:not(.disabled)   .upload-button[_ngcontent-%COMP%]:focus   svg[_ngcontent-%COMP%], [_nghost-%COMP%]:not(.disabled)   .upload-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:#80a9d2}"],changeDetection:0}),Ft.ctorParameters=()=>[{type:kt},{type:s.ElementRef},{type:s.Renderer2},{type:s.ChangeDetectorRef}],Ft.propDecorators={control:[{type:s.Input}],buttonRef:[{type:s.ContentChild,args:["button"]}],placeholderRef:[{type:s.ContentChild,args:["placeholder"]}],input:[{type:s.ViewChild,args:["inputRef",{static:!0}]}],label:[{type:s.ViewChild,args:["labelRef",{static:!0}]}],hasFiles:[{type:s.HostBinding,args:["class.has-files"]}],isInvalid:[{type:s.HostBinding,args:["class.ng-invalid"]}]};const Vt=(t,e,i=0)=>!wt(e)&&t.size>e||t.size<i?{maxSize:e,minSize:i,actual:t.size,file:t}:null,Lt=(t,e)=>{const i=t.type;return wt(i)?It[e]:i},Ut=/(^[.]\w*)$/m,qt=(t,e)=>{const i=t.name.split(".").pop().toLowerCase(),a=Lt(t,i);for(const n of e){if(Ut.test(n)?n===`.${i}`:new RegExp(n).test(a))return null}return{allowedTypes:e,actual:t.type,file:t}},Bt=t=>{if(!Array.isArray(t))throw Error(`FormControl.setValue was provided with wrong argument type, ${t} was provided instead Array<File>`)};class $t{static fileSize(t){return e=>{const i=e.value;if(wt(i))return null;Bt(i);const a=i.map(e=>Vt(e,t)).filter(t=>t);return a.length>0?{fileSize:a}:null}}static sizeRange({minSize:t,maxSize:e}){return i=>{const a=i.value;if(wt(a))return null;Bt(a);const n=a.map(i=>Vt(i,e,t)).filter(t=>t);return n.length>0?{sizeRange:n}:null}}static filesLimit(t){return e=>{const i=e.value;return wt(i)?null:(Bt(i),i.length>t?{filesLimit:{max:t,actual:i.length}}:null)}}static accept(t){return e=>{const i=e.value;if(wt(i))return null;Bt(i);const a=i.map(e=>qt(e,t)).filter(t=>t);return a.length>0?{fileTypes:a}:null}}}class Ht{constructor(t){this.fileUploadService=t}ngOnChanges(t){("filesize"in t||"maxsize"in t||"minsize"in t)&&(this._createValidator(),this.onChange&&this.onChange())}validate(t){return this.validator(t)}registerOnValidatorChange(t){this.onChange=t}_createValidator(){let t=null;wt(this.maxsize)?wt(this.filesize)||(t=this.fileUploadService.parseSize(this.filesize)):t=this.fileUploadService.parseSize(this.maxsize);const e=this.fileUploadService.parseSize(this.minsize);this.validator=$t.sizeRange({maxSize:t,minSize:e})}}Ht.\u0275fac=function(t){return new(t||Ht)(s["\u0275\u0275directiveInject"](kt))},Ht.\u0275dir=s["\u0275\u0275defineDirective"]({type:Ht,selectors:[["file-upload","filesize","","formControlName",""],["file-upload","filesize","","formControl",""],["file-upload","filesize","","ngModel",""],["file-upload","minsize","","formControlName",""],["file-upload","minsize","","formControl",""],["file-upload","minsize","","ngModel",""],["file-upload","maxsize","","formControlName",""],["file-upload","maxsize","","formControl",""],["file-upload","maxsize","","ngModel",""]],hostVars:3,hostBindings:function(t,e){2&t&&s["\u0275\u0275attribute"]("filesize",e.filesize?e.filesize:null)("minsize",e.minsize?e.minsize:null)("maxsize",e.maxsize?e.maxsize:null)},inputs:{filesize:"filesize",minsize:"minsize",maxsize:"maxsize"},features:[s["\u0275\u0275ProvidersFeature"]([{provide:v.d,useExisting:Object(s.forwardRef)(()=>Ht),multi:!0}]),s["\u0275\u0275NgOnChangesFeature"]]}),Ht.ctorParameters=()=>[{type:kt}],Ht.propDecorators={filesize:[{type:s.Input}],minsize:[{type:s.Input}],maxsize:[{type:s.Input}]};class Qt{ngOnChanges(t){"fileslimit"in t&&(this._createValidator(),this.onChange&&this.onChange())}validate(t){return null!=this.fileslimit?this.validator(t):null}registerOnValidatorChange(t){this.onChange=t}_createValidator(){this.validator=$t.filesLimit("string"==typeof this.fileslimit?parseInt(this.fileslimit,10):this.fileslimit)}}Qt.\u0275fac=function(t){return new(t||Qt)},Qt.\u0275dir=s["\u0275\u0275defineDirective"]({type:Qt,selectors:[["file-upload","fileslimit","","formControlName",""],["file-upload","fileslimit","","formControl",""],["file-upload","fileslimit","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&s["\u0275\u0275attribute"]("fileslimit",e.fileslimit?e.fileslimit:null)},inputs:{fileslimit:"fileslimit"},features:[s["\u0275\u0275ProvidersFeature"]([{provide:v.d,useExisting:Object(s.forwardRef)(()=>Qt),multi:!0}]),s["\u0275\u0275NgOnChangesFeature"]]}),Qt.propDecorators={fileslimit:[{type:s.Input}]};class Xt{ngOnChanges(t){"accept"in t&&(this._createValidator(),this.onChange&&this.onChange())}validate(t){return this.validator?this.validator(t):null}registerOnValidatorChange(t){this.onChange=t}_createValidator(){wt(this.accept)||(this.validator=$t.accept(this.accept.split(",")))}}Xt.\u0275fac=function(t){return new(t||Xt)},Xt.\u0275dir=s["\u0275\u0275defineDirective"]({type:Xt,selectors:[["file-upload","accept","","formControlName",""],["file-upload","accept","","formControl",""],["file-upload","accept","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&s["\u0275\u0275attribute"]("accept",e.accept?e.accept:null)},inputs:{accept:"accept"},features:[s["\u0275\u0275ProvidersFeature"]([{provide:v.d,useExisting:Object(s.forwardRef)(()=>Xt),multi:!0}]),s["\u0275\u0275NgOnChangesFeature"]]}),Xt.propDecorators={accept:[{type:s.Input}]};class Gt{constructor(t,e){this.fileUpload=null,this.fileUpload=t||e}ngAfterViewInit(){this.setAccept(this.accept)}ngOnChanges(t){"accept"in t&&t.accept.currentValue!==t.accept.previousValue&&this.setAccept(this.accept)}setAccept(t){this.fileUpload&&this.fileUpload.control&&this.fileUpload.control.acceptFiles(t)}}Gt.\u0275fac=function(t){return new(t||Gt)(s["\u0275\u0275directiveInject"](jt,11),s["\u0275\u0275directiveInject"](Ft,11))},Gt.\u0275dir=s["\u0275\u0275defineDirective"]({type:Gt,selectors:[["file-upload","accept",""]],hostVars:1,hostBindings:function(t,e){2&t&&s["\u0275\u0275attribute"]("accept",e.accept?e.accept:null)},inputs:{accept:"accept"},features:[s["\u0275\u0275NgOnChangesFeature"]]}),Gt.ctorParameters=()=>[{type:jt,decorators:[{type:s.Optional},{type:s.Host},{type:s.Self}]},{type:Ft,decorators:[{type:s.Optional},{type:s.Host},{type:s.Self}]}],Gt.propDecorators={accept:[{type:s.Input}]};class Jt{ngDoBootstrap(){}}Jt.\u0275fac=function(t){return new(t||Jt)},Jt.\u0275mod=s["\u0275\u0275defineNgModule"]({type:Jt}),Jt.\u0275inj=s["\u0275\u0275defineInjector"]({imports:[[o.CommonModule,v.i,v.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&s["\u0275\u0275setNgModuleScope"](Jt,{declarations:function(){return[jt,Pt,Nt,zt,_t,Ht,Qt,Xt,Gt,Ft]},imports:function(){return[o.CommonModule,v.i,v.c]},exports:function(){return[jt,zt,Pt,_t,Ht,Qt,Xt,Gt,Ft]}});let Yt=class{};Yt=Object(a.c)([Object(s.NgModule)({declarations:[P,j,T,F,x],imports:[o.CommonModule,_,n.a,l.g,Jt]})],Yt)},VITL:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var a=i("mrSG"),n=i("tk/3"),s=i("fXoL");const o=i("AytR").a.apiUrl+"users",l={headers:new n.f({"Content-Type":"application/json"})};let r=class{constructor(t){this.http=t}getAll(t){return t=t||{},this.http.get(o+"?filter="+JSON.stringify(t),l)}getAllByUserID(t,e){let i={where:{id:{inq:t=Array.isArray(t)?t:[t]}}};return e&&Object.assign(i.where,{companyID:e}),this.http.get(o+"?filter="+JSON.stringify(i),l)}getAllByType(t,e){let i={where:{userType:t}};return e&&Object.assign(i.where,{companyID:e}),this.http.get(o+"?filter="+JSON.stringify(i),l)}get(t){return this.http.get(`${o}/${t}`)}create(t){return this.http.post(o,t,l)}update(t,e){return this.http.patch(`${o}/${t}`,e,l)}delete(t){return this.http.delete(`${o}/${t}`,l)}deleteAll(){return this.http.delete(o,l)}deleteForever(t){return this.http.delete(`${o}/forever/${t}`,l)}deleteAllForever(){return this.http.delete("API_BASE/forever",l)}findByName(t){return this.http.get(`${o}?FullName=${t}`,l)}};r.ctorParameters=()=>[{type:n.b}],r=Object(a.c)([Object(s.Injectable)({providedIn:"root"})],r)},XhZV:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var a=i("mrSG"),n=i("FQmJ"),s=i("feko"),o=i("d+0u"),l=i("/Uzn"),r=i("9+1D"),p=i("fXoL"),c=i("tk/3"),d=i("5eHb"),m=i("tyNb");let h=class{constructor(t,e,i,a,n,s,o){this.route=t,this.uploadService=e,this.companyService=i,this.tokenService=a,this.constants=n,this.functions=s,this.toastr=o,this.moduleCode="",this.parentUrl="/resources/folders",this.knowlegeUrl="/resources/knowledge-center",this.browseUrl="/resources/folders",this.parentID=null,this.objects="Resources",this.title="Upload Resource",this.errorMessage="",this.companies=[],this.companyID="",this.parents=[],this.documents=[],this.uploadService.selectedFiles}ngOnInit(){this.moduleCode=(this.route.snapshot.queryParams.moduleCode||"").trim().toLowerCase(),this.parentID=this.route.snapshot.queryParams.parentID||null,this.parentUrl="kwt"==this.moduleCode?this.knowlegeUrl:this.parentUrl,this.objects="kwt"==this.moduleCode?"Knowledge Center":this.objects,this.uploadService.selectedFiles=[],this.companyID=this.tokenService.getSelectedCompany().companyID||"",this.companyService.getUserCompanies().subscribe(t=>{this.companies=t});let t=this.constants.moduleCodes[this.moduleCode];this.parents=[{name:t.plural}],this.uploadService.getParents(this.parentID).subscribe(t=>{for(let e of t)this.parents.push(e)})}addMetaInfo(t){Object.assign(t,{value:0,error:!1,message:null,data:{moduleCode:this.moduleCode,parentID:this.parentID,resourceName:t.name,resourceSize:t.size,resourceType:"file",mimeType:t.type}})}selectFiles(t){for(let e of t.target.files)this.addMetaInfo(e),this.uploadService.selectedFiles.push(e)}removeFiles(t){t?this.uploadService.selectedFiles.splice(t,1):this.uploadService.selectedFiles=[]}uploadFiles(t,e,i,a){e=e||this.moduleCode,i=i||this.parentID,t=t||this.companyID,a=a||{},this.uploadService.progress.all=0,this.uploadService.progress.completed=0,this.uploadService.progress.failed=0;for(let n=0;n<this.uploadService.selectedFiles.length;n++){let s=this.uploadService.selectedFiles[n],o=s.data&&s.data.extraData?s.data.extraData:{};this.addMetaInfo(s),Object.assign(s.data,{moduleCode:e,parentID:i,companyID:t,extraData:Object.assign(o,a)}),this.upload(n,s)}}upload(t,e){this.uploadService.upload(e).subscribe(e=>{e.type===c.e.UploadProgress?this.uploadService.selectedFiles[t].value=Math.round(100*e.loaded/e.total):c.i,this.uploadService.selectedFiles[t].message="upload success",this.uploadService.progress.all++,this.uploadService.progress.completed++},e=>{this.uploadService.selectedFiles[t].error=!0,this.uploadService.selectedFiles[t].message="upload failure",this.uploadService.selectedFiles[t].value=0,this.uploadService.progress.all++,this.uploadService.progress.failed++})}deleteResource(t){return Object(a.b)(this,void 0,void 0,function*(){let e=yield l.a.alertDelete(o.a.Title.RECORD_OPERATION,o.a.Messages.CONFIRM_DELETE);(null==e?void 0:e.value)&&(Object.assign(t,{isDeleting:!0}),this.uploadService.delete(t.resourceID).subscribe(e=>{Object.assign(t,{isDeleting:!1}),this.documents=this.documents.filter(e=>e.resourceID!==t.resourceID),this.toastr.success(o.a.Messages.DELETE_SUCCESS,o.a.Title.RECORD_OPERATION)},e=>{Object.assign(t,{isDeleting:!1}),this.errorMessage=l.a.handleError(e,o.a.Messages.DELETE_FAILURE),this.toastr.error(this.errorMessage,o.a.Title.RECORD_OPERATION)}))})}};h.ctorParameters=()=>[{type:m.a},{type:r.a},{type:s.a},{type:n.a},{type:o.a},{type:l.a},{type:d.b}],h=Object(a.c)([Object(p.Component)({selector:"upload",template:'<app-basic-crumb [title]="title" [objects]="objects" [url]="parentUrl"\n\t[params]="{parentID:parentID, moduleCode:moduleCode}">\n</app-basic-crumb>\n<div class="row">\n\t<div class="col-sm-12">\t    \n\t    <app-card cardTitle="{{\'File Uploader\' | uppercase}}" \n\t    \tcardClass="table-card" blockClass="pl-3 pr-3 pb-0 pt-0 mb-0">\n\t    \t<div class="form-row mt-0 mb-0 pl-3">\n\t\t\t\t<div class="form-group col-md-12 form-inline pt-0">\n\t\t\t\t\t<div *ngFor="let p of parents; let i = index;">\n\t\t\t\t\t\t<a *ngIf="i==0" title="{{p.name | TitleCase}}" routerLink="{{browseUrl}}" \n\t\t\t            \t[queryParams]="{moduleCode:moduleCode}">\n\t\t\t            \t{{p.name | TitleCase}}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a *ngIf="i>0" title="{{p.name | TitleCase}}" routerLink="{{browseUrl}}" \n\t\t\t            \t[queryParams]="{parentID:p.id,moduleCode:moduleCode}">\n\t\t\t            \t{{p.name | TitleCase}}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<span *ngIf="i<parents.length-1">&nbsp;>>&nbsp;</span>\n\t\t\t\t\t\t<span *ngIf="i==parents.length-1">&nbsp;>>&nbsp;</span>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t</div>\t\n\t    \t<div class="form-group col-sm-12">\n\t            <label>Owner Company*</label>\n\t            <select class="form-control" [(ngModel)]="companyID">\n\t\t\t  \t\t<option value="">No Company Selected</option>\n\t\t\t        <option *ngFor="let c of companies | OrderBy:\'fullName\'" value="{{c.companyID}}">\n\t\t\t        \t{{c.fullName}}\n\t\t\t        </option>\n\t\t\t    </select>\n\t        </div>\t\t\n\t    \t<div class="form-group col-sm-12">\n\t    \t\t<label>Select Module To Upload To</label>\n\t\t\t\t<select [(ngModel)]="moduleCode" class="form-control" [disabled]="moduleCode==\'kwt\'">\n\t\t\t\t    <option *ngFor="let m of functions.indexify(constants.moduleCodes)\n\t\t    \t\t\t| KeyFilter:\'isResourcePack\':true" value="{{m.name}}">\n\t\t\t\t    \t{{m?.plural}}\n\t\t\t\t    </option>\n\t\t\t\t    <option value="kwt" *ngIf="moduleCode==\'kwt\'">KNOWLEDGE CENTER</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t    \t\n\t    \t<div class="form-group col-sm-12" *ngIf="uploadService.selectedFiles.length==0">\n\t\t\t\t<div class="text-left text-danger" colspan="100%">\n\t\t\t\t\tNo files added to the queue! Click add button below.\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t \n\t\t\t<div class="form-group col-sm-12" template #elseBlock>\n\t\t\t\t<div *ngFor="let f of uploadService.selectedFiles; let i = index;" class="mb-2">\n\t\t\t\t  <span>\n\t\t\t\t  \t<span class="{{ functions.getResourceIcon(f.data.mimeType) }} mr-2 ml-2"></span>\n\t\t\t\t  \t{{ f.data.resourceName }}\n\t\t\t\t  </span>\n\t\t\t\t  <span> &nbsp; | &nbsp; {{ functions.getResourceSize(f.data.resourceSize) }}</span>\n\t\t\t\t  &nbsp;\n\t\t\t\t  <a type="button" (click)="removeFiles(i)">\n\t\t\t\t  \t<span class="fa fa-times text-danger cursor"></span>\n\t\t\t\t  </a>\n\t\t\t\t  <span class="{{f.error? \'text-danger\' : \'text-success\'}}" *ngIf="f.message">\n\t\t\t\t  \t&nbsp; | &nbsp; {{f.message}}\n\t\t\t\t  </span>\n\t\t\t\t  <div class="progress">\n\t\t\t\t    <div class="progress-bar progress-bar-info progress-bar-striped"\n\t\t\t\t      role="progressbar" *ngIf="!(f.value==100)"\n\t\t\t\t      attr.aria-valuenow="{{ f.value }}"\n\t\t\t\t      aria-valuemin="0"\n\t\t\t\t      aria-valuemax="100"\n\t\t\t\t      [ngStyle]="{ width: f.value + \'%\' }">\n\t\t\t\t      {{ f.value }}%\n\t\t\t\t    </div>\n\t\t\t\t  </div>\t\t\t  \n\t\t\t\t</div>\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="form-group">\n\t\t\t\t<a class="btn btn-link" routerLink="{{parentUrl}}"\n\t\t\t\t\t[queryParams]="{parentID:parentID, moduleCode:moduleCode}">Go Back</a>\t\t\n\t\t\t\t<button type="button" class="btn btn-primary" (click)="fileInput.click()">\n\t\t\t\t\t<i class="fa fa-plus"></i> \n\t\t\t\t\tAdd Files\n\t\t\t\t</button>\n\t\t\t\t<input type="file" multiple="true" (change)="selectFiles($event)" \n\t\t\t\t  \tstyle="display: none" #fileInput/>\n\t\t\t\t&nbsp;\n\t\t\t\t<button class="btn btn-primary" *ngIf="uploadService.selectedFiles.length>0" (click)="uploadFiles()">\n\t\t\t\t\t<i class="fa fa-upload"></i>\n\t\t\t\t  \tUpload All\n\t\t\t\t</button>\t\n\t\t\t\t&nbsp;\t\t\n\t\t\t\t<button class="btn btn-danger" *ngIf="uploadService.selectedFiles.length>0" (click)="removeFiles()">\n\t\t\t\t\t<i class="fa fa-upload"></i>\n\t\t\t\t  \tRemove All\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</app-card>\n\t</div>\n</div>',styles:[""]})],h)}}]);